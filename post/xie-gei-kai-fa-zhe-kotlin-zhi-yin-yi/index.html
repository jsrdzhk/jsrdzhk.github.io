<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>写给开发者Kotlin指引（一） | Rodney Cheung&#39;s House🇺🇦🗽</title>
<meta name="description" content="&lt;p&gt;I stand with Ukraine🇺🇦!&lt;/p&gt;
&lt;p&gt;The king is noble only for practicing his way!&lt;/p&gt;
">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://jsrdzhk.github.io/favicon.ico?v=1678701535533">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://jsrdzhk.github.io/styles/main.css">


<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://jsrdzhk.github.io">Rodney Cheung&#39;s House🇺🇦🗽</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="/" class="menu">
                Home
              </a>
            
          </li>
        
          <li>
            
              <a href="/archives" class="menu">
                Archive
              </a>
            
          </li>
        
          <li>
            
              <a href="/tags" class="menu">
                Tag
              </a>
            
          </li>
        
          <li>
            
              <a href="https://jsrdzhk.github.io/post/readme" class="menu">
                README
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>写给开发者Kotlin指引（一）</h1>
            <p class="article-meta">
              2021-02-19
              
                <a href="https://jsrdzhk.github.io/tag/ZheDh5Fg9/" class="badge secondary">
                  Kotlin
                </a>
              
            </p>
            
            <div class="post-content">
              <p>本文从开发者学习第二门语言的角度，力求用最简洁的语言说明<code>Kotlin</code>的用法。在你花10分钟阅读完后，应该可以写出不那么Kotlin的Kotlin代码。</p>
<h2 id="一-和java的关系">一、和Java的关系</h2>
<blockquote>
<p>Kotlin is a cross-platform, statically typed, general-purpose programming language with type inference. Kotlin is designed to interoperate fully with Java, and the JVM version of Kotlin's standard library depends on the Java Class Library, but type inference allows its syntax to be more concise.</p>
</blockquote>
<p>在维基百科中说明了<code>Kotlin</code>是可以与Java进行完全互操作的语言。事实上，Kotlin的编译器跟Java的编译器一样，都是将代码转化为了JVM能够理解的字节码。类似于C++语言先通过编译器编译成汇编语言，汇编语言再由汇编器生成了机器码，最后再由链接器链接为可执行文件。</p>
<h2 id="二-函数">二、函数</h2>
<p>当提及到一门语言，函数和变量是必须的，直接从一个简单的函数来看。</p>
<pre><code class="language-kotlin">fun defaultArguments(param1: Int = 1, param2: String = &quot;asa&quot;, param3: Double = 3.3): Unit {
    println(&quot;$param1,$param2,$param3&quot;)
}

fun namedArguments(param1: Int = 1, param2: String = &quot;asa&quot;, param3: Double): Unit =
    println(&quot;$param2,${param1 + param3}&quot;)
</code></pre>
<p><code>Kotlin</code>的函数定义非常简单，以<code>fun</code>作为函数的标记，对于函数的形参，使用后置类型的方式来说明形参的类型，它还支持默认参数，函数的返回类型在形参之后使用冒号来说明，<code>Unit</code>相当于一般语言中的<code>void</code>，表示函数的返回类型没用。函数体类似于大部分语言，使用大括号来表示，如果函数体为表达式（表达式的概念现在暂时不管，直接使用大括号即可），也可以像声明变量那样用<code>=</code>。</p>
<p>默认参数的用法很简单，你可以选择在任意参数开始使用默认参数，例如<code>defaultArguments()</code>或者<code>defaultArguments(3,&quot;as&quot;)</code>，这没什么好说的。具名参数（named argument）是<code>Kotlin</code>中的一个特色（用过<code>Python</code>的人可以跳过这一部分，因为没什么区别），他允许函数调用者指定对应参数的值，配合默认参数，会让函数的调用更加灵活。例如，上面的<code>namedArguments</code>的函数可以这样调用:</p>
<pre><code class="language-kotlin">namedArguments(param3 = 1.3)
</code></pre>
<p>因为<code>namedArguments</code>只给前两个参数设置了默认参数，所以如果没有具名参数，那么就得给出所有参数。在使用具名参数后，函数的形参可以用更加合理的方式来排布顺序，而不需要为了配合默认参数调整形参的顺序。</p>
<p>OK，现在让我们运行一下上面的代码看看效果吧先给出完整的<code>main.kt</code>文件：</p>
<pre><code class="language-kotlin">fun defaultArguments(param1: Int = 1, param2: String = &quot;asa&quot;, param3: Double = 3.3): Unit {
    println(&quot;$param1,$param2,$param3&quot;)
}

fun namedArguments(param1: Int = 1, param2: String = &quot;asa&quot;, param3: Double): Unit =
    println(&quot;$param2,${param1 + param3}&quot;)
    
fun main(args: Array&lt;String&gt;) {
    defaultArguments(1)
    defaultArguments(1, &quot;as&quot;)
    namedArguments(param3 = 1.3)
}
</code></pre>
<p><code>Kotlin</code>的入口函数为<code>main</code>函数，想要运行Kotlin代码，先要将其编译成jvm虚拟机能够识别的字节码，<code>Kotlin</code>为我们提供了编译器，在Mac OS平台上，可以直接使用<code>brew install kotlin</code>来安装<code>Kotlin</code>的编译套件，其他平台的安装参考<a href="https://kotlinlang.org/docs/tutorials/command-line.html">这里</a>。</p>
<p>使用以下命令来编译代码为<code>jar</code>文件：</p>
<pre><code>kotlinc main.kt -include-runtime -d main.jar
</code></pre>
<p>然后，类似于<code>Java</code>，直接使用<code>java -jar main.jar</code>来运行，看一下结果：</p>
<pre><code>1,asa,3.3
1,as,3.3
asa 2.3
</code></pre>
<p>上述的代码中还包括一个非常实用的字符串处理技巧，字符串格式化一直是编程时永远绕不开的话题，Java和C的处理方式是在字符串中用<code>%s %d</code>作为占位符来进行字符串格式化，这种方法非常不友好，用户需要记住各种各样的占位符。<code>Python</code>的处理稍微高了那么一点点🤏，使用<code>{}</code>来进行占位，由于Python中将对象转化为字符串非常方便，所以用户处理起来也不是那么痛苦。现在，<code>Kotlin</code>彻底释放了用户，直接在字符串里面用<code>$</code>加上变量名的方式就可以了，<code>Kotlin</code>会帮你执行<code>toString</code>的操作，甚至还可以在里面执行表达式，只要用<code>${}</code>将表达式括起来即可。</p>
<h2 id="三-变量">三、变量</h2>
<p><code>Kotlin</code>声明变量很简单，看例子：</p>
<pre><code class="language-kotlin">fun variableFundamental() {
    var mutableValue: Int = 100
    println(mutableValue)
    mutableValue = 101
    println(mutableValue)
    val immutableValue = 10
    println(immutableValue)
}
</code></pre>
<p><code>val</code>修饰的变量为不可变的变量，注意这里的不可变，理解为它的引用不可变，如果你生命的是一个<code>ArrayList</code>，你还是可以自由地往里面添加元素。<code>var</code>修饰的变量是可变变量。</p>
<h2 id="四-类">四、类</h2>
<p>虽然<code>Kotlin</code>也是JVM系的语言，但是可以看到前一节的<code>main.kt</code>的三个函数不在类中，但是也可以编译运行。事实上，即使在<code>Java</code>中，静态函数也是顶级的函数，类名只是静态函数的命名空间（C++用户应该非常熟悉这个概念）。虽然如此，但是出了入口<code>main</code>函数，最好不要定义这种函数，就跟<code>Java</code>一样，用类来组织代码就好了。</p>
<p>在<code>Kotlin</code>中，类的定义非常的简洁，例如：</p>
<pre><code class="language-kotlin">class KotlinClass(param1: String, private val member1: Int = 10, val member2: String = &quot;&quot;)
</code></pre>
<p><code>Kotlin</code>通过<code>class</code>关键词来标记类，后面跟类名，这个十分好理解，后面的括号中包括的是类的构造函数的参数，如果参数被用<code>val</code>或者<code>var</code>修饰了，该参数就会自动成为类的成员变量。这样做的优点就是在<code>Kotlin</code>里面不再需要写<code>this.member1=member1</code>这样的废话了😄。这里的成员默认是<code>public</code>的，如果想要设置为<code>private</code>，只要在<code>val</code>前面加上访问权限修饰符<code>private</code>即可。<br>
传统的面向对象语言，不管是C++还是Java，都会提供一个叫构造函数重载的概念，即可以通过不同的参数来以不同的逻辑来构造对象。<code>Kotlin</code>里面没有重载这一说，<code>Kotlin</code>通过为构造函数提供默认参数实现了函数的重载，类似于前面的具名参数（<code>Python</code>中通过为<code>__init__</code>函数设置默认参数取得了同样的效果）。</p>
<p>下面扩充一下上面的类:</p>
<pre><code class="language-kotlin">class KotlinClass(param1: String, private val member1: Int = 10, var member2: String = &quot;&quot;) {
    companion object {
        fun staticFunc() {
            println(&quot;this static func&quot;)
        }
    }

    private var param1Receiver: String = param1

    private fun privateMemberFunc1() {
        println(member1)
    }

    fun publicMemberFunc() {
        println(member2)
    }
}
</code></pre>
<p><code>Kotlin</code>中没有<code>static</code>关键词，它使用<code>companion object</code>块来放置静态变量和函数，它的成员函数也类似<code>Java</code>，同样<code>public</code>为默认修饰符。</p>
<h2 id="五-总结">五、总结</h2>
<p>这一节简单叙述了<code>Kotlin</code>的变量声明、函数和类的定义，它的简洁和优雅一览无余，现在编写完整的<code>Kotlin</code>程序已经毫无问题了，但是想要进一步感受<code>Kotlin</code>的魅力，还需要继续探索。</p>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
            <div class="next-post">
              <div class="next">
                Next Blog
              </div>
              <a href="https://jsrdzhk.github.io/post/readme/">
                <h3 class="post-title">
                  README
                </h3>
              </a>
            </div>
          
        </div>
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://jsrdzhk.github.io/images/avatar.png?v=1678701535533" class="no-responsive avatar">
    <div class="text-muted"><p>I stand with Ukraine🇺🇦!</p>
<p>The king is noble only for practicing his way!</p>
</div>
    <div class="social-container">
      
        
          <a href="https://github.com/jsrdzhk" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
          <a href="https://twitter.com/jsrdzhk" target="_blank">
            <i class="fab fa-twitter"></i>
          </a>
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      Latest Blog
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/er-fen-cha-zhao/">二分查找</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/li-jie-czhong-de-zuo-zhi-he-you-zhi/">理解C++中的左值和右值</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/jian-dan-de-shared_ptr-shi-xian/">简单的shared_ptr实现</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/lian-biao-xiang-guan/">链表相关</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/tu-xiang-guan/">图相关</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/er-cha-sou-suo-shu-bst/">二叉搜索树（BST）</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/git-ji-chu-yi/">Git基础(一)</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/docker-image-import-and-export/">Docker镜像导入导出</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/docker-installation/">Docker安装</a>
            </li>
          
        
          
            <li>
              <a href="https://jsrdzhk.github.io/post/er-cha-shu/">二叉树</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      Tag List
    </div>
    <div class="row">
      
        <a href="https://jsrdzhk.github.io/tag/weUBFlLDD/" class="badge ">
          binary search
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/MGd4HYSuo/" class="badge success">
          cpp
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/KKjUQ4MWe/" class="badge secondary">
          Smart Pointers
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/ej_j7SeTH/" class="badge warning">
          LinkedList
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/_ydDLNY97/" class="badge secondary">
          data structure
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/84fw4eg0Y/" class="badge secondary">
          Graph
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/0q-BX870D/" class="badge warning">
          BST
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/s7a4AhfBW/" class="badge secondary">
          tree
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/J6bMD7YjK/" class="badge secondary">
          Git
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/-i04JmKge/" class="badge secondary">
          docker
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/pX3bayx0K/" class="badge secondary">
          proxy
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/JtKSwj9dO/" class="badge warning">
          Android
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/ZheDh5Fg9/" class="badge secondary">
          Kotlin
        </a>
      
        <a href="https://jsrdzhk.github.io/tag/7Fzphc59o/" class="badge ">
          Python
        </a>
      
    </div>
  </div>
  <div class="paper">
    Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://jsrdzhk.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>




  </body>
</html>
