<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://jsrdzhk.github.io</id>
    <title>Rodney Cheung&apos;s HouseğŸ‡ºğŸ‡¦ğŸ—½</title>
    <updated>2023-03-13T09:59:09.987Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://jsrdzhk.github.io"/>
    <link rel="self" href="https://jsrdzhk.github.io/atom.xml"/>
    <subtitle>&lt;p&gt;I stand with UkraineğŸ‡ºğŸ‡¦!&lt;/p&gt;
&lt;p&gt;The king is noble only for practicing his way!&lt;/p&gt;
</subtitle>
    <logo>https://jsrdzhk.github.io/images/avatar.png</logo>
    <icon>https://jsrdzhk.github.io/favicon.ico</icon>
    <rights>All rights reserved 2023, Rodney Cheung&apos;s HouseğŸ‡ºğŸ‡¦ğŸ—½</rights>
    <entry>
        <title type="html"><![CDATA[äºŒåˆ†æŸ¥æ‰¾]]></title>
        <id>https://jsrdzhk.github.io/post/er-fen-cha-zhao/</id>
        <link href="https://jsrdzhk.github.io/post/er-fen-cha-zhao/">
        </link>
        <updated>2021-07-20T08:15:22.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-æŸ¥æ‰¾å‡åºæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªæ•°">ä¸€ã€æŸ¥æ‰¾å‡åºæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªæ•°</h2>
<p><a href="https://leetcode-cn.com/problems/binary-search/submissions/">704. äºŒåˆ†æŸ¥æ‰¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>ä»£ç éå¸¸ç®€å•ï¼Œä½†è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>æ±‚ä¸­ç‚¹çš„æ—¶å€™åº”ä½¿ç”¨<code>start + (end - start) / 2</code>ï¼Œè¿™æ ·å¯ä»¥é¿å…ç»“æœæº¢å‡º</li>
<li>åˆå§‹åŒ–<code>start</code>å’Œ<code>end</code>çš„å€¼æ—¶ï¼Œæ—¢å¯ä»¥é€‰æ‹©å·¦å¼€å³é—­åŒºé—´ï¼Œå³<code>[start,end)</code>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¨é—­åŒºé—´ã€‚ä¸€èˆ¬æ¥è¯´å·¦å¼€å³é—­åŒºé—´çš„å†™æ³•è¾ƒä¸ºå¸¸ç”¨ï¼Œå› ä¸ºä»–ç›¸è¾ƒäºå…¨é—­åŒºé—´å¯ä»¥çœç•¥å‡ ä¸ªç¬¦å·ã€‚</li>
</ol>
<pre><code class="language-c++">int search(std::vector&lt;int&gt;&amp; nums, int target) {
    int start = 0, end = nums.size();
    while (start &lt; end) {
        int middle = start + (end - start) / 2;
        if (nums[middle] &gt; target) {
            end = middle;
        } else if (nums[middle] == target) {
            return middle;
        } else {
            start = middle + 1;
        }
    }
    return -1;
}
</code></pre>
<h2 id="äºŒ-æŸ¥æ‰¾å‡åºæ•°ç»„ä¸­æŸä¸ªæ•°çš„èŒƒå›´">äºŒã€æŸ¥æ‰¾å‡åºæ•°ç»„ä¸­æŸä¸ªæ•°çš„èŒƒå›´</h2>
<p><a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/submissions/">34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>åªéœ€è¦åœ¨ä¸Šè¿°ä»£ç ä¸­ç¨ä½œä¿®æ”¹æ—¢å¯ä»¥ï¼š</p>
<pre><code class="language-c++">std::vector&lt;int&gt; searchRange(std::vector&lt;int&gt;&amp; nums, int target) {
    int left = 0, right = nums.size();
    std::vector&lt;int&gt; res{-1, -1};
    if (nums.empty()) {
        return res;
    }
    while (left &lt; right) {
        int middle = left + (right - left) / 2;
        //å½“middleä½ç½®çš„æ•°å¤§äºç›®æ ‡æ•°æ—¶ï¼Œè¯´æ˜ç›®æ ‡æ•°åœ¨è¯¥æ•°çš„å·¦ä¾§;
        //å½“ç­‰äºç›®æ ‡æ•°æ—¶ï¼Œè¯´æ˜è¯¥æ•°çš„å·¦ä¾§ï¼ˆä¸åŒ…æ‹¬è¯¥æ•°ï¼‰ä¹Ÿå¯èƒ½å­˜åœ¨è·Ÿç›®æ ‡æ•°ç›¸åŒçš„å…¶ä»–æ•°ï¼Œç»§ç»­å‘å·¦äºŒåˆ†æŸ¥æ‰¾
        if (nums[middle] &gt;= target) {
            right = middle;
        } else {
            left = middle + 1;
        }
    }
    //å½“ä¸‹æ ‡å¤„æ•°æ®éæ³•æ—¶ï¼Œè¯´æ˜æ²¡æœ‰æ‰¾åˆ°ç›®æ ‡æ•°ï¼Œç›´æ¥è¿”å›
    if (left &gt;= nums.size()) {
        return res;
    }
    if (nums[left] == target) {
        res[0] = left;
    } else {
        return res;
    }
    right = nums.size();
    while (left &lt; right) {
        int middle = left + (right - left) / 2;
        if (nums[middle] &gt; target) {
            right = middle;
        } else {
            //å½“middleä½ç½®çš„æ•°ç­‰äºç›®æ ‡æ•°æ—¶ï¼Œè¯´æ˜è¯¥æ•°å³ä¾§çš„æ•°å­—ä¹Ÿæœ‰å¯èƒ½ç­‰äºç›®æ ‡æ•°ï¼Œç»§ç»­å‘å³äºŒåˆ†æŸ¥æ‰¾ã€‚
            left = middle + 1;
        }
    }
    //æ­¤æ—¶å³ä¾§çš„æ•°å¿…ç„¶åœ¨ç›®æ ‡æ•°å³è¾¹ï¼Œæ‰€ä»¥ç›®æ ‡æ•°çš„å³ä¾§ä¸‹æ ‡éœ€è¦å‡ä¸€
    res[1] = left - 1;
    return res;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç†è§£C++ä¸­çš„å·¦å€¼å’Œå³å€¼]]></title>
        <id>https://jsrdzhk.github.io/post/li-jie-czhong-de-zuo-zhi-he-you-zhi/</id>
        <link href="https://jsrdzhk.github.io/post/li-jie-czhong-de-zuo-zhi-he-you-zhi/">
        </link>
        <updated>2021-07-15T09:29:24.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€">ä¸€ã€å‰è¨€</h2>
<p>ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘éƒ½å¯¹C++ä¸­å·¦å€¼ï¼ˆlvalueï¼‰å’Œå³å€¼ï¼ˆlvalueï¼‰çš„æ¦‚å¿µæ¨¡ç³Šä¸æ¸…ã€‚æˆ‘è®¤ä¸ºæ˜¯æ—¶å€™å¥½å¥½ç†è§£ä»–ä»¬äº†ï¼Œå› ä¸ºè¿™äº›æ¦‚å¿µéšç€C++è¯­è¨€çš„è¿›åŒ–å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚</p>
<h2 id="äºŒ-å·¦å€¼å’Œå³å€¼ä¸€ä¸ªå‹å¥½çš„å®šä¹‰">äºŒã€å·¦å€¼å’Œå³å€¼â€”â€”ä¸€ä¸ªå‹å¥½çš„å®šä¹‰</h2>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬é¿å¼€é‚£äº›æ­£å¼çš„å®šä¹‰ã€‚åœ¨C++ä¸­ï¼Œä¸€ä¸ªå·¦å€¼æ˜¯æŒ‡å‘ä¸€ä¸ªæŒ‡å®šå†…å­˜çš„ä¸œè¥¿ã€‚å¦ä¸€æ–¹é¢ï¼Œå³å€¼å°±æ˜¯ä¸æŒ‡å‘ä»»ä½•åœ°æ–¹çš„ä¸œè¥¿ã€‚é€šå¸¸æ¥è¯´ï¼Œå³å€¼æ˜¯æš‚æ—¶å’ŒçŸ­å‘½çš„ï¼Œè€Œå·¦å€¼åˆ™æ´»çš„å¾ˆä¹…ï¼Œå› ä¸ºä»–ä»¬ä»¥å˜é‡çš„å½¢å¼ï¼ˆvariableï¼‰å­˜åœ¨ã€‚æˆ‘ä»¬å¯ä»¥å°†å·¦å€¼çœ‹ä½œä¸ºå®¹å™¨ï¼ˆcontainerï¼‰è€Œå°†å³å€¼çœ‹åšå®¹å™¨ä¸­çš„äº‹ç‰©ã€‚å¦‚æœå®¹å™¨æ¶ˆå¤±äº†ï¼Œå®¹å™¨ä¸­çš„äº‹ç‰©ä¹Ÿå°±è‡ªç„¶å°±æ— æ³•å­˜åœ¨äº†ã€‚<br>
è®©æˆ‘ä»¬ç°åœ¨æ¥çœ‹ä¸€äº›ä¾‹å­ï¼š</p>
<pre><code class="language-cpp">int x = 666; //ok
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>666</code>æ˜¯ä¸€ä¸ªå³å€¼ã€‚ä¸€ä¸ªæ•°å­—ï¼ˆä»æŠ€æœ¯è§’åº¦æ¥è¯´ä»–æ˜¯ä¸€ä¸ªå­—é¢å¸¸é‡ï¼ˆliteral constantï¼‰ï¼‰æ²¡æœ‰æŒ‡å®šçš„å†…å­˜åœ°å€ï¼Œå½“ç„¶åœ¨ç¨‹åºè¿è¡Œæ—¶ä¸€äº›ä¸´æ—¶çš„å¯„å­˜å™¨é™¤å¤–ã€‚åœ¨è¯¥ä¾‹ä¸­ï¼Œ<code>666</code>è¢«èµ‹å€¼ï¼ˆassignï¼‰ç»™<code>x</code>ï¼Œ<code>x</code>æ˜¯ä¸€ä¸ªå˜é‡ã€‚ä¸€ä¸ªå˜é‡æœ‰ç€å…·ä½“ï¼ˆspecificï¼‰çš„å†…å­˜ä½ç½®ï¼Œæ‰€ä»¥ä»–æ˜¯ä¸€ä¸ªå·¦å€¼ã€‚C++ä¸­å£°æ˜ä¸€ä¸ªèµ‹å€¼ï¼ˆassignmentï¼‰éœ€è¦ä¸€ä¸ªå·¦å€¼ä½œä¸ºå®ƒçš„å·¦æ“ä½œæ•°ï¼ˆleft operandï¼‰ï¼šè¿™å®Œå…¨åˆæ³•ã€‚<br>
å¯¹äºå·¦å€¼<code>x</code>ï¼Œä½ å¯ä»¥åšåƒè¿™æ ·çš„æ“ä½œï¼š</p>
<pre><code class="language-cpp">int* y = &amp;x;  //ok
</code></pre>
<p>åœ¨è¿™é‡Œæˆ‘é€šè¿‡å–åœ°å€æ“ä½œç¬¦<code>&amp;</code>è·å–äº†<code>x</code>çš„å†…å­˜åœ°å€å¹¶ä¸”æŠŠå®ƒæ”¾è¿›äº†<code>y</code>ã€‚<code>&amp;</code>æ“ä½œç¬¦éœ€è¦ä¸€ä¸ªå·¦å€¼å¹¶ä¸”äº§ç”Ÿäº†ä¸€ä¸ªå³å€¼ï¼Œè¿™ä¹Ÿæ˜¯å¦ä¸€ä¸ªå®Œå…¨åˆæ³•çš„æ“ä½œï¼šåœ¨èµ‹å€¼æ“ä½œç¬¦çš„å·¦è¾¹æˆ‘ä»¬æœ‰ä¸€ä¸ªå·¦å€¼ï¼ˆä¸€ä¸ªå˜é‡ï¼‰ï¼Œåœ¨å³è¾¹æˆ‘ä»¬ä½¿ç”¨å–åœ°å€æ“ä½œç¬¦äº§ç”Ÿçš„å³å€¼ã€‚<br>
ç„¶è€Œï¼Œæˆ‘ä»¬ä¸èƒ½è¿™æ ·å†™ï¼š</p>
<pre><code class="language-cpp">int y;
666 = y; //error!
</code></pre>
<p>å¯èƒ½ä¸Šé¢çš„ç»“è®ºæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä½†æ˜¯ä»æŠ€æœ¯ä¸Šæ¥è¯´æ˜¯å› ä¸º<code>666</code>æ˜¯ä¸€ä¸ªå­—é¢å¸¸é‡ä¹Ÿå°±æ˜¯ä¸€ä¸ªå³å€¼ï¼Œå®ƒæ²¡æœ‰ä¸€ä¸ªå…·ä½“çš„å†…å­˜ä½ç½®ï¼ˆmemory locationï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæŠŠ<code>y</code>åˆ†é…åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„åœ°æ–¹ã€‚<br>
ä¸‹é¢æ˜¯GCCç»™å‡ºçš„å˜å¼‚é”™è¯¯æç¤ºï¼š</p>
<blockquote>
<p>error: lvalue required as left operand of assignment</p>
</blockquote>
<p>èµ‹å€¼çš„å·¦æ“ä½œæ•°éœ€è¦ä¸€ä¸ªå·¦å€¼ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå³å€¼<code>666</code>ã€‚<br>
æˆ‘ä»¬ä¹Ÿä¸èƒ½è¿™æ ·åšï¼š</p>
<pre><code class="language-cpp">int* y = &amp;666;//   error~
</code></pre>
<p>GCCç»™å‡ºäº†ä»¥ä¸‹é”™è¯¯æç¤ºï¼š</p>
<blockquote>
<p>error: lvalue required as unary '&amp;' operand`</p>
</blockquote>
<p><code>&amp;</code>æ“ä½œç¬¦éœ€è¦ä¸€ä¸ªå·¦å€¼ä½œä¸ºæ“ä½œæ•°ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªå·¦å€¼æ‰æ‹¥æœ‰åœ°å€ã€‚</p>
<h2 id="ä¸‰-è¿”å›å·¦å€¼å’Œå³å€¼çš„å‡½æ•°">ä¸‰ã€è¿”å›å·¦å€¼å’Œå³å€¼çš„å‡½æ•°</h2>
<p>æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªèµ‹å€¼çš„å·¦æ“ä½œæ•°å¿…é¡»æ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå› æ­¤ä¸‹é¢çš„è¿™ä¸ªå‡½æ•°è‚¯å®šä¼šæŠ›å‡ºé”™è¯¯ï¼š<code>lvalue required as left operand of assignment</code></p>
<pre><code class="language-cpp">int setValue()
{
    return 6;
}

// ... somewhere in main() ...

setValue() = 3; // error!
</code></pre>
<p>é”™è¯¯åŸå› å¾ˆæ¸…æ¥šï¼š<code>setValue()</code>è¿”å›äº†ä¸€ä¸ªå³å€¼ï¼ˆä¸€ä¸ªä¸´æ—¶å€¼<code>6</code>ï¼‰ï¼Œä»–ä¸èƒ½ä½œä¸ºä¸€ä¸ªèµ‹å€¼çš„å·¦æ“ä½œæ•°ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚æœå‡½æ•°è¿”å›ä¸€ä¸ªå·¦å€¼ï¼Œè¿™æ ·çš„èµ‹å€¼ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ã€‚çœ‹ä¸‹é¢çš„ä»£ç ç‰‡æ®µï¼ˆsnippetï¼‰ï¼š</p>
<pre><code class="language-cpp">int global = 100;

int&amp; setGlobal()
{
    return global;    
}

// ... somewhere in main() ...

setGlobal() = 400; // OK
</code></pre>
<p>è¯¥ç¨‹åºå¯ä»¥è¿è¡Œï¼Œå› ä¸ºåœ¨è¿™é‡Œ<code>setGlobal()</code>è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼ˆreferenceï¼‰ï¼Œè·Ÿä¹‹å‰çš„<code>setValue()</code>ä¸åŒã€‚ä¸€ä¸ªå¼•ç”¨æ˜¯æŒ‡å‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å†…å­˜ä½ç½®ï¼ˆ<code>global</code>å˜é‡ï¼‰çš„ä¸œè¥¿ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œæ‰€ä»¥å®ƒèƒ½è¢«èµ‹å€¼ã€‚æ³¨æ„è¿™é‡Œçš„<code>&amp;</code>ï¼šå®ƒä¸æ˜¯å–åœ°å€æ“ä½œç¬¦ï¼Œä»–å®šä¹‰äº†è¿”å›çš„ç±»å‹ï¼ˆä¸€ä¸ªå¼•ç”¨ï¼‰ã€‚<br>
å¯ä»¥ä»å‡½æ•°è¿”å›å·¦å€¼çœ‹ä¸Šå»æœ‰äº›éšæ™¦ï¼Œå®ƒåœ¨ä½ åšä¸€äº›è¿›é˜¶çš„ç¼–ç¨‹ä¾‹å¦‚å®ç°ä¸€äº›æ“ä½œç¬¦çš„é‡è½½ï¼ˆimplementing overload operatorsï¼‰æ—¶ä¼šå¾ˆæœ‰ä½œç”¨ï¼Œè¿™äº›çŸ¥è¯†ä¼šåœ¨æœªæ¥çš„ç« èŠ‚ä¸­è®²è¿°ã€‚</p>
<h2 id="å››-å·¦å€¼åˆ°å³å€¼çš„è½¬æ¢">å››ã€å·¦å€¼åˆ°å³å€¼çš„è½¬æ¢</h2>
<p>ä¸€ä¸ªå·¦å€¼å¯ä»¥è¢«è½¬æ¢ï¼ˆconvertï¼‰ä¸ºå³å€¼ï¼Œè¿™å®Œå…¨åˆæ³•ä¸”ç»å¸¸å‘ç”Ÿã€‚è®©æˆ‘ä»¬å…ˆç”¨<code>+</code>æ“ä½œç¬¦ä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œæ ¹æ®C++çš„è§„èŒƒï¼ˆspecificationï¼‰ï¼Œå®ƒä½¿ç”¨ä¸¤ä¸ªå³å€¼ä½œä¸ºå‚æ•°å¹¶è¿”å›ä¸€ä¸ªå³å€¼ï¼ˆè¯‘è€…æŒ‰ï¼šå¯ä»¥å°†æ“ä½œç¬¦ç†è§£ä¸ºä¸€ä¸ªå‡½æ•°ï¼‰ã€‚<br>
è®©æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä»£ç ç‰‡æ®µï¼š</p>
<pre><code class="language-cpp">int x = 1;
int y = 3;
int z = x + y;   // ok
</code></pre>
<p>ç­‰ä¸€ä¸‹ï¼Œ<code>x</code>å’Œ<code>y</code>æ˜¯å·¦å€¼ï¼Œä½†æ˜¯åŠ æ³•æ“ä½œç¬¦éœ€è¦å³å€¼ä½œä¸ºå‚æ•°ï¼šå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼š<code>x</code>å’Œ<code>y</code>ç»å†äº†ä¸€ä¸ªéšå¼ï¼ˆimplicitï¼‰çš„å·¦å€¼åˆ°å³å€¼ï¼ˆlvalue-to-rvalueï¼‰çš„è½¬æ¢ã€‚è®¸å¤šå…¶ä»–çš„æ“ä½œç¬¦ä¹Ÿæœ‰åŒæ ·çš„è½¬æ¢â€”â€”å‡æ³•ã€åŠ æ³•ã€é™¤æ³•ç­‰ç­‰ã€‚</p>
<h2 id="äº”-å·¦å€¼å¼•ç”¨">äº”ã€å·¦å€¼å¼•ç”¨</h2>
<p>ç›¸åå‘¢ï¼Ÿä¸€ä¸ªå³å€¼å¯ä»¥è¢«è½¬åŒ–ä¸ºå·¦å€¼å—ï¼Ÿä¸å¯ä»¥ï¼Œå®ƒä¸æ˜¯æŠ€æœ¯æ‰€é™ï¼Œè€Œæ˜¯C++ç¼–ç¨‹è¯­è¨€å°±æ˜¯é‚£æ ·è®¾è®¡çš„ã€‚<br>
åœ¨C++ä¸­ï¼Œå½“ä½ åšè¿™æ ·çš„äº‹ï¼š</p>
<pre><code class="language-cpp">int y = 10;
int&amp; yref = y;
yref++;        // y is now 11
</code></pre>
<p>è¿™é‡Œå°†<code>yref</code>å£°æ˜ä¸ºç±»å‹<code>int&amp;</code>ï¼šä¸€ä¸ªå¯¹<code>y</code>çš„å¼•ç”¨ï¼Œå®ƒè¢«ç§°ä½œå·¦å€¼å¼•ç”¨ï¼ˆlvalue referenceï¼‰ã€‚ç°åœ¨ä½ å¯ä»¥å¼€å¿ƒåœ°é€šè¿‡è¯¥å¼•ç”¨æ”¹å˜<code>y</code>çš„å€¼äº†ã€‚<br>
æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªå¼•ç”¨å¿…é¡»åªæƒ³ä¸€ä¸ªå…·ä½“çš„å†…å­˜ä½ç½®ä¸­çš„ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œå³ä¸€ä¸ªå·¦å€¼ã€‚è¿™é‡Œ<code>y</code>ç¡®å®å­˜åœ¨ï¼Œæ‰€ä»¥ä»£ç è¿è¡Œå®Œç¾ã€‚<br>
ç°åœ¨ï¼Œå¦‚æœæˆ‘ç¼©çŸ­æ•´ä¸ªè¿‡ç¨‹ï¼Œå°è¯•å°†<code>10</code>ç›´æ¥èµ‹å€¼ç»™æˆ‘çš„å¼•ç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•å¯¹è±¡æŒæœ‰è¯¥å¼•ç”¨ï¼Œå°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<pre><code class="language-cpp">int&amp; yref = 10;  // will it work?
</code></pre>
<p>åœ¨å³è¾¹æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸´æ—¶å€¼ï¼Œä¸€ä¸ªéœ€è¦è¢«å­˜å‚¨åœ¨ä¸€ä¸ªå·¦å€¼ä¸­çš„å³å€¼ã€‚åœ¨å·¦è¾¹æˆ‘ä»¬æœ‰ä¸€ä¸ªå¼•ç”¨ï¼ˆä¸€ä¸ªå·¦å€¼ï¼‰ï¼Œä»–åº”è¯¥æŒ‡å‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ã€‚ä½†æ˜¯<code>10</code> æ˜¯ä¸€ä¸ªæ•°å­—å¸¸é‡ï¼ˆnumeric constantï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå°†å®ƒèµ‹ç»™å¼•ç”¨ä¸å¼•ç”¨æ‰€è¡¨è¿°çš„ç²¾ç¥å†²çªã€‚<br>
å¦‚æœä½ ä»”ç»†æƒ³æƒ³ï¼Œé‚£å°±æ˜¯è¢«ç¦æ­¢çš„ä»å³å€¼åˆ°å·¦å€¼çš„è½¬æ¢ã€‚ä¸€ä¸ª<code>volitile</code>çš„æ•°å­—å¸¸é‡ï¼ˆå³å€¼ï¼‰å¦‚æœæƒ³è¦è¢«å¼•ç”¨ï¼Œéœ€è¦å…ˆå˜æˆä¸€ä¸ªå·¦å€¼ã€‚å¦‚æœé‚£è¢«å…è®¸ï¼Œä½ å°±å¯ä»¥é€šè¿‡å®ƒçš„å¼•ç”¨æ¥æ”¹å˜æ•°å­—å¸¸é‡çš„å€¼ã€‚ç›¸å½“æ²¡æœ‰æ„ä¹‰ï¼Œä¸æ˜¯å—ï¼Ÿæ›´é‡è¦çš„æ˜¯ï¼Œä¸€æ—¦è¿™äº›å€¼ä¸å†å­˜åœ¨è¿™äº›å¼•ç”¨è¯¥æŒ‡å‘å“ªé‡Œå‘¢ï¼Ÿ<br>
ä¸‹é¢çš„ä»£ç ç‰‡æ®µåŒæ ·ä¼šå‘ç”Ÿé”™è¯¯ï¼ŒåŸå› è·Ÿåˆšæ‰çš„ä¸€æ ·ï¼š</p>
<pre><code class="language-cpp">void fnc(int&amp; x)
{
}

int main()
{
    fnc(10);  // Nope!
    // This works instead:
    // int x = 10;
    // fnc(x);
}
</code></pre>
<p>æˆ‘å°†ä¸€ä¸ªä¸´æ—¶å€¼<code>10</code>ä¼ å…¥äº†ä¸€ä¸ªéœ€è¦å¼•ç”¨ä½œä¸ºå‚æ•°çš„å‡½æ•°ä¸­ï¼Œäº§ç”Ÿäº†å°†å³å€¼è½¬æ¢ä¸ºå·¦å€¼çš„é”™è¯¯ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼ˆworkaroundï¼‰ï¼Œåˆ›é€ ä¸€ä¸ªä¸´æ—¶çš„å˜é‡æ¥å­˜å‚¨å³å€¼ï¼Œç„¶åå°†å˜é‡ä¼ å…¥å‡½æ•°ä¸­ï¼ˆå°±åƒæ³¨é‡Šä¸­å†™çš„é‚£æ ·ï¼‰ã€‚å°†ä¸€ä¸ªæ•°å­—ä¼ å…¥ä¸€ä¸ªå‡½æ•°ç¡®å®ä¸å¤ªæ–¹ä¾¿ã€‚</p>
<h2 id="å…­-å¸¸é‡å·¦å€¼å¼•ç”¨">å…­ã€å¸¸é‡å·¦å€¼å¼•ç”¨</h2>
<p>å…ˆçœ‹çœ‹GCCå¯¹äºä¹‹å‰ä¸¤ä¸ªä»£ç ç‰‡æ®µç»™å‡ºçš„é”™è¯¯æç¤ºï¼š</p>
<blockquote>
<p>error: invalid initialization of non-const reference of type 'int&amp;' from an rvalue of type 'int'</p>
</blockquote>
<p>GCCè®¤ä¸ºå¼•ç”¨ä¸æ˜¯<code>const</code>çš„ï¼Œå³ä¸€ä¸ªå¸¸é‡ã€‚æ ¹æ®C++è§„èŒƒï¼Œä½ å¯ä»¥å°†ä¸€ä¸ª<code>const</code>çš„å·¦å€¼ç»‘å®šåˆ°ä¸€ä¸ªå³å€¼ä¸Šï¼Œæ‰€ä»¥ä¸‹é¢çš„ä»£ç å¯ä»¥æˆåŠŸè¿è¡Œï¼š</p>
<pre><code class="language-cpp">const int&amp; ref = 10;  // OK!
</code></pre>
<p>å½“ç„¶ï¼Œä¸‹é¢çš„ä¹Ÿæ˜¯ï¼š</p>
<pre><code class="language-cpp">void fnc(const int&amp; x)
{
}

int main()
{
    fnc(10);  // OK!
}
</code></pre>
<p>èƒŒåçš„é“ç†æ˜¯ç›¸å½“ç›´æ¥çš„ï¼Œå­—é¢å¸¸é‡<code>10</code>æ˜¯<code>volatile</code>çš„å¹¶ä¸”ä¼šå¾ˆå¿«å¤±æ•ˆï¼ˆexpireï¼‰ï¼Œæ‰€ä»¥ç»™ä»–ä¸€ä¸ªå¼•ç”¨æ˜¯æ²¡ä»€ä¹ˆæ„ä¹‰çš„ã€‚å¦‚æœæˆ‘ä»¬è®©å¼•ç”¨æœ¬èº«å˜æˆå¸¸é‡å¼•ç”¨ï¼Œé‚£æ ·çš„è¯è¯¥å¼•ç”¨æŒ‡å‘çš„å€¼å°±ä¸èƒ½è¢«æ”¹å˜äº†ã€‚ç°åœ¨å³å€¼è¢«ä¿®æ”¹çš„é—®é¢˜è¢«å¾ˆå¥½åœ°è§£å†³äº†ã€‚åŒæ ·ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªæŠ€æœ¯é™åˆ¶ï¼Œè€Œæ˜¯C ++äººå‘˜ä¸ºé¿å…æ„šè ¢éº»çƒ¦æ‰€ä½œçš„é€‰æ‹©ã€‚<br>
<em>åº”ç”¨ï¼šC++ä¸­ç»å¸¸é€šè¿‡å¸¸é‡å¼•ç”¨æ¥å°†å€¼ä¼ å…¥å‡½æ•°ä¸­ï¼Œè¿™é¿å…äº†ä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡çš„åˆ›å»ºå’Œæ‹·è´ã€‚</em><br>
ç¼–è¯‘å™¨ä¼šä¸ºä½ åˆ›å»ºä¸€ä¸ªéšè—çš„å˜é‡ï¼ˆå³ä¸€ä¸ªå·¦å€¼ï¼‰æ¥å­˜å‚¨åˆå§‹çš„å­—é¢å¸¸é‡ï¼Œç„¶åå°†éšè—çš„å˜é‡ç»‘å®šåˆ°ä½ çš„å¼•ç”¨ä¸Šå»ã€‚é‚£è·Ÿæˆ‘ä¹‹å‰çš„ä¸€ç»„ä»£ç ç‰‡æ®µä¸­æ‰‹åŠ¨å®Œæˆçš„æ˜¯ä¸€ç äº‹ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="language-cpp">// the following...
const int&amp; ref = 10;

// ... would translate to:
int __internal_unique_name = 10;
const int&amp; ref = __internal_unique_name;
</code></pre>
<p>ç°åœ¨ä½ çš„å¼•ç”¨æŒ‡å‘äº†çœŸå®å­˜åœ¨çš„äº‹ç‰©ï¼ˆçŸ¥é“å®ƒèµ°å‡ºä½œç”¨åŸŸå¤–ï¼‰å¹¶ä¸”ä½ å¯ä»¥æ­£å¸¸ä½¿ç”¨å®ƒï¼Œå‡ºå…‹æ”¹å˜ä»–æŒ‡å‘çš„å€¼ã€‚</p>
<pre><code class="language-cpp">const int&amp; ref = 10;
std::cout &lt;&lt; ref &lt;&lt; &quot;\n&quot;;   // OK!
std::cout &lt;&lt; ++ref &lt;&lt; &quot;\n&quot;; // error: increment of read-only reference â€˜refâ€™
</code></pre>
<h2 id="ä¸ƒ-ç»“è®º">ä¸ƒã€ç»“è®º</h2>
<p>ç†è§£å·¦å€¼å’Œå³å€¼çš„å«ä¹‰è®©æˆ‘å¼„æ¸…æ¥šäº†å‡ ä¸ªC++å†…åœ¨çš„å·¥ä½œæ–¹å¼ã€‚C++11è¿›ä¸€æ­¥æ¨åŠ¨äº†å³å€¼çš„é™å®šï¼Œå¼•å…¥äº†å³å€¼å¼•ç”¨ï¼ˆrvalue referenceï¼‰å’Œç§»åŠ¨ï¼ˆmove semanticsï¼‰çš„æ¦‚å¿µã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç®€å•çš„shared_ptrå®ç°]]></title>
        <id>https://jsrdzhk.github.io/post/jian-dan-de-shared_ptr-shi-xian/</id>
        <link href="https://jsrdzhk.github.io/post/jian-dan-de-shared_ptr-shi-xian/">
        </link>
        <updated>2021-07-15T09:27:23.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€">ä¸€ã€å‰è¨€</h2>
<p><code>C++11</code>ä¸ºæˆ‘ä»¬å¸¦æ¥äº†<code>std::shared_ptr</code>ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨åŠ¨æ€åˆ†é…å†…å­˜çš„æ—¶å€™å‘ç”Ÿmemory leakï¼Œä»–æ˜¯åŸºäºå¼•ç”¨è®¡æ•°å®ç°çš„ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ã€‚</p>
<h2 id="äºŒ-å®ç°">äºŒã€å®ç°</h2>
<pre><code class="language-c++">namespace smart_ptr {
class counter {
   public:
    counter(unsigned cnt) : count_(cnt) {}

    unsigned&amp; operator++() {
        ++count_;
        return count_;
    }

    unsigned operator++(int) {
        unsigned count = count_;
        ++count_;
        return count;
    }

    unsigned&amp; operator--() {
        --count_;
        return count_;
    }

    unsigned operator--(int) {
        unsigned count = count_;
        --count_;
        return count;
    }
    unsigned getCount() const { return count_; }

   private:
    unsigned count_ = 0;
};

template &lt;typename T&gt;
class shared_ptr {
   public:
    using pointer = T*;
    using reference = T&amp;;
    shared_ptr(pointer ptr) {
        counter_ = new counter(1);
        data_ = ptr;
    }
    ~shared_ptr() {
        --(*counter_);
        if (counter_-&gt;getCount() == 0) {
            delete data_;
            data_ = nullptr;
            delete counter_;
            counter_ = nullptr;
        }
    }

    shared_ptr(const shared_ptr&lt;T&gt;&amp; s_ptr) {
        counter_ = s_ptr.counter_;
        ++(*counter_);
        data_ = s_ptr.data_;
    }

    pointer get() const { return data_; }

    unsigned use_count() const { return counter_-&gt;count_; }
    pointer operator-&gt;() { return data_; }

    reference operator*() { return *data_; }

   private:
    counter* counter_;
    pointer data_;
};
}  // namespace smart_ptr
</code></pre>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªç±»<code>counter</code>ä¸“é—¨ç”¨äºè®¡ç®—æŒ‡å‘åŠ¨æ€å†…å­˜çš„å¯¹è±¡æ•°é‡ï¼Œåœ¨æˆ‘ä»¬åˆ›å»º<code>shared_ptr</code>å¯¹è±¡æ—¶ï¼ŒåŠ¨æ€åˆ†é…ä¸€ä¸ªå†…å­˜ç»™æˆå‘˜<code>counter_</code>ï¼Œå½“å¯¹è±¡å‘ç”Ÿæ‹·è´æ—¶ï¼Œä½¿ç”¨åŒä¸€ä¸ª<code>counter</code>å¢åŠ å¼•ç”¨è®¡æ•°ã€‚åœ¨ææ„æ—¶ï¼Œæˆ‘ä»¬å°†<code>counter</code>è¿›è¡Œè‡ªå‡ï¼Œå¦‚æœè‡ªå‡å<code>counter</code>ä¸ºé›¶ï¼Œé‚£ä¹ˆå°±é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦åƒ<code>new</code>æ“ä½œç¬¦ä¸€æ ·æ‰‹åŠ¨ææ„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ‰‹åŠ¨è°ƒç”¨<code>~shared_ptr()</code>å³å¯ã€‚<strong>æ‰‹åŠ¨è°ƒç”¨ææ„å‡½æ•°åªæ˜¯é”€æ¯äº†å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰é‡Šæ”¾è¿™æ®µå†…å­˜ã€‚</strong></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[é“¾è¡¨ç›¸å…³]]></title>
        <id>https://jsrdzhk.github.io/post/lian-biao-xiang-guan/</id>
        <link href="https://jsrdzhk.github.io/post/lian-biao-xiang-guan/">
        </link>
        <updated>2021-07-14T02:49:45.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-å®šä¹‰">ä¸€ã€å®šä¹‰</h2>
<p>å•å‘é“¾è¡¨ï¼š</p>
<pre><code class="language-c++">struct ListNode {
    int val;
    ListNode *next;
    ListNode(int x) : val(x), next(nullptr) {}
    ListNode(int x) : val(x), next(nullptr) {}
    ListNode(int x, ListNode *next) : val(x), next(next) {}
};
</code></pre>
<h2 id="äºŒ-åè½¬é“¾è¡¨">äºŒã€åè½¬é“¾è¡¨</h2>
<p><a href="https://leetcode-cn.com/problems/reverse-linked-list/">206. åè½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<h3 id="21-è¿­ä»£å†™æ³•">2.1 è¿­ä»£å†™æ³•</h3>
<pre><code class="language-c++">ListNode* iterationReverseList(ListNode* head) {
    if (!head || !head-&gt;next) {
        return head;
    }
    ListNode* prev = nullptr;
    while (head) {
        ListNode* next = head-&gt;next;
        head-&gt;next = prev;
        prev = head;
        head = next;
    }
    return head;
}
</code></pre>
<h3 id="22-é€’å½’å†™æ³•">2.2 é€’å½’å†™æ³•</h3>
<pre><code class="language-c++">ListNode* recursiveReverseList(ListNode* head) {
    if (!head || !head-&gt;next) {
        return head;
    }
    ListNode* last = recursiveReverseList(head-&gt;next);
    head-&gt;next-&gt;next = head;
    head-&gt;next = nullptr;
    return last;
}
</code></pre>
<h2 id="ä¸‰-åˆ¤æ–­é“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡">ä¸‰ã€åˆ¤æ–­é“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡</h2>
<p><a href="https://leetcode-cn.com/problems/palindrome-linked-list/submissions/">234. å›æ–‡é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>å¦‚æœä¸è¦æ±‚ç©ºé—´å¤æ‚åº¦ï¼Œå¯ä»¥ç›´æ¥å°†é“¾è¡¨æ‰€æœ‰å€¼éƒ½è¯»å–åˆ°æ•°ç»„ä¸­ï¼Œå¹¶ä½¿ç”¨åŒæŒ‡é’ˆåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ã€‚å¦‚æœè¦æ±‚ç©ºé—´å¤æ‚åº¦ä¸º<code>O(1)</code>ï¼Œé‚£ä¹ˆåˆ™éœ€è¦åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ï¼Œå¹¶åè½¬å‰©ä¸‹çš„ä¸€åŠé“¾è¡¨ï¼Œç„¶åé€ä¸€åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼š</p>
<pre><code class="language-c++">ListNode* reverseBetween(ListNode* s, ListNode* e) {
    ListNode *cur = s, *next = s;
    ListNode* prev = nullptr;
    while (cur != e) {
        next = cur-&gt;next;
        cur-&gt;next = prev;
        prev = cur;
        cur = next;
    }
    return prev;
}

bool isPalindrome(ListNode* head) {
    if (!head) {
        return false;
    }
    if (!head-&gt;next) {
        return true;
    }
    ListNode *slow = head, *fast = head;
    while (fast &amp;&amp; fast-&gt;next) {
        slow = slow-&gt;next;
        fast = fast-&gt;next-&gt;next;
    }
    ListNode *s = nullptr, *e = nullptr;
    if (fast) {
        s = slow-&gt;next;
    } else {
        s = slow;
    }
    ListNode* newHead = reverseBetween(s, e);
    while (head &amp;&amp; newHead) {
        if (head-&gt;val != newHead-&gt;val) {
            return false;
        } else {
            head = head-&gt;next;
            newHead = newHead-&gt;next;
        }
    }
    return true;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å›¾ç›¸å…³]]></title>
        <id>https://jsrdzhk.github.io/post/tu-xiang-guan/</id>
        <link href="https://jsrdzhk.github.io/post/tu-xiang-guan/">
        </link>
        <updated>2021-07-12T10:30:31.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-æœ‰å‘å›¾çš„éå†">ä¸€ã€æœ‰å‘å›¾çš„éå†</h2>
<p><a href="https://leetcode-cn.com/problems/all-paths-from-source-to-target/submissions/">797. æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>ä¾ç„¶æ˜¯ä½¿ç”¨é€’å½’è¿›è¡Œéå†ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡è®°å½•å½“å‰è·¯å¾„çš„æƒ…å†µï¼Œåœ¨é€’å½’è·³å‡ºçš„åœ°æ–¹å¼¹å‡ºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼ˆå›æº¯ï¼‰ï¼š</p>
<pre><code class="language-c++">void traverse(std::vector&lt;std::vector&lt;int&gt;&gt;&amp; graph, int idx, int target,
              std::vector&lt;std::vector&lt;int&gt;&gt;&amp; res, std::vector&lt;int&gt;&amp; seq) {
    if (idx == target) {
        seq.push_back(idx);
        res.push_back(seq);
        seq.pop_back();
    }
    auto&amp; g = graph[idx];
    for (auto num : g) {
        seq.push_back(idx);
        traverse(graph, num, target, res, seq);
        seq.pop_back();
    }
}

std::vector&lt;std::vector&lt;int&gt;&gt; allPathsSourceTarget(
    std::vector&lt;std::vector&lt;int&gt;&gt;&amp; graph) {
    std::vector&lt;int&gt; seq;
    std::vector&lt;std::vector&lt;int&gt;&gt; res;
    traverse(graph, 0, graph.size() - 1, res, seq);
    return res;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰]]></title>
        <id>https://jsrdzhk.github.io/post/er-cha-sou-suo-shu-bst/</id>
        <link href="https://jsrdzhk.github.io/post/er-cha-sou-suo-shu-bst/">
        </link>
        <updated>2021-07-12T10:29:17.000Z</updated>
        <content type="html"><![CDATA[<p>äºŒå‰æœç´¢æ ‘åŸºäºäºŒå‰æ ‘ï¼Œå…¶å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å‡å°äºæ ¹ç»“ç‚¹ï¼Œè€Œå³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å‡å¤§äºæ ¹ç»“ç‚¹ï¼ŒåŒæ—¶å…¶å·¦å³å­æ ‘åˆéƒ½æ˜¯äºŒå‰æœç´¢æ ‘ã€‚</p>
<h2 id="ä¸€-äºŒå‰æœç´¢æ ‘ä¸­çš„ç¬¬kä¸ªæœ€å°å…ƒç´ ">ä¸€ã€äºŒå‰æœç´¢æ ‘ä¸­çš„ç¬¬Kä¸ªæœ€å°å…ƒç´ </h2>
<p><a href="https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/">230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>ä½¿ç”¨ä¸­åºéå†å°±å¯ä»¥å¾—åˆ°äºŒå‰æœç´¢æ ‘ä¸­å…ƒç´ çš„å‡åºæ’åˆ—ï¼š</p>
<pre><code class="language-c++">void traverse(TreeNode* n, int k, int&amp; c, int&amp; res) {
    if (!n) {
        return;
    }
    traverse(n-&gt;left, k, c, res);
    ++c;
    if (c == k) {
        res = n-&gt;val;
        return;
    } else if (c &gt; k) {
        return;
    } else {
        traverse(n-&gt;right, k, c, res);
    }
}

int kthSmallest(TreeNode* root, int k) {
    int res = 0, c = 0;
    traverse(root, k, c, res);
    return res;
}
</code></pre>
<p>å½“æ¯æ¬¡è¯»å–bstä¸­çš„åºåˆ—æ—¶ï¼Œéƒ½è‡ªå¢è®¡æ•°å™¨ï¼š</p>
<ul>
<li>å½“è®¡æ•°å™¨ç­‰äºè¦æ±‚çš„å€¼æ—¶ï¼Œä¿å­˜ç»“æœï¼›</li>
<li>å½“è®¡æ•°å™¨å°äºè¦æ±‚çš„å€¼æ—¶ï¼Œç»§ç»­è¯»å–ï¼›</li>
<li>å½“è®¡æ•°å™¨å¤§é›¨è¦æ±‚çš„å€¼æ—¶ï¼Œä»é€’å½’ä¸­è·³å‡ºã€‚</li>
</ul>
<h2 id="äºŒ-æŠŠäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºç´¯åŠ æ ‘">äºŒã€æŠŠäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºç´¯åŠ æ ‘</h2>
<p><a href="https://leetcode-cn.com/problems/convert-bst-to-greater-tree/">538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>æ ¹æ®é¢˜æ„ï¼Œç´¯åŠ æ ‘å°±æ˜¯ä½¿æ¯ä¸ªèŠ‚ç‚¹ <code>node</code> çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äº <code>node.val</code> çš„å€¼ä¹‹å’Œï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†äºŒå‰æœç´¢æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å¢åŠ è¯¥èŠ‚ç‚¹å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹ä¹‹å’Œã€‚</p>
<p>ä¸­åºéå†äºŒå‰æœç´¢æ ‘æœ€åæ‰èƒ½è®¿é—®åˆ°å³å­æ ‘ï¼Œæ­¤æ—¶æˆ‘ä»¬å€’è¿‡æ¥ã€‚å…ˆè®¿é—®æ ‘çš„å³å­æ ‘ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡è®°å½•å½“å‰çš„å³å­æ ‘ä¹‹å’Œï¼Œç„¶åå°†è¯¥å˜é‡åŠ åˆ°æ ‘çš„æ ¹ç»“ç‚¹ä¸Šï¼Œå†è®¿é—®å·¦å­æ ‘:</p>
<pre><code class="language-c++">void traverseBst(TreeNode* n, int&amp; sum) {
    if (!n) {
        return;
    }
    traverseBst(n-&gt;right, sum);
    n-&gt;val = n-&gt;val += sum;
    sum = n-&gt;val;
    traverseBst(n-&gt;left, sum);
}

TreeNode* bstToGst(TreeNode* root) {
    int sum = 0;
    traverseBst(root, sum);
    return root;
}
</code></pre>
<h2 id="ä¸‰-ä¸åŒçš„äºŒå‰æœç´¢æ ‘">ä¸‰ã€ä¸åŒçš„äºŒå‰æœç´¢æ ‘</h2>
<p><a href="https://leetcode-cn.com/problems/unique-binary-search-trees/">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>å½“å›ºå®šæŸä¸ªå€¼<code>a</code>ä¸ºæ ¹ç»“ç‚¹æ—¶ï¼Œå…¶å·¦ä¾§çš„å€¼ä¸º<code>[1,a-1]</code>ï¼Œå³ä¾§çš„å€¼ä¸º<code>[a+1,n]</code>ï¼Œå®šä¹‰<code>f(n)</code>ä¸ºnä¸ªä¸åŒçš„æ•°ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ç§ç±»ï¼Œé‚£ä¹ˆæ­¤æ—¶:</p>
<pre><code>f(n)=f(a-1-1+1)+f(n-(a+1)+1)
</code></pre>
<p>ç”±æ­¤å°†æ±‚å¾—<code>[1,n]</code>äºŒå‰æœç´¢æ ‘çš„ç§ç±»åˆ†è§£ä¸ºäº†ä¸¤ä¸ªå­é—®é¢˜ï¼Œè€Œå½“n=1æˆ–è€…0æ—¶ï¼Œ<code>f(n)</code>çš„ç»“æœæ˜¾ç„¶ä¸º<code>1</code>ï¼Œç”±æ­¤å¯ä»¥æ¨æ–­å‡ºï¼š</p>
<pre><code>f(2)=f(1)*f(0)+f(0)*f(1)=2
f(3)=f(2)*f(0)+f(1)*f(1)+f(0)*f(2)=5
...
</code></pre>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-c++">int numTrees(int n) {
    std::vector&lt;int&gt; dp{1, 1};
    for (auto i = 2; i &lt;= n; ++i) {
        dp.push_back(0);
        for (auto j = 0; j &lt; i; ++j) {
            dp[i] += dp[j] * dp[i - 1 - j];
        }
    }
    return dp[n];
}
</code></pre>
<h2 id="å››-ä¸åŒçš„äºŒå‰æœç´¢æ ‘äºŒ">å››ã€ä¸åŒçš„äºŒå‰æœç´¢æ ‘ï¼ˆäºŒï¼‰</h2>
<p><a href="https://leetcode-cn.com/problems/unique-binary-search-trees-ii/submissions/">95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<pre><code class="language-c++">std::vector&lt;TreeNode*&gt; constructBst(int s, int e) {
    std::vector&lt;TreeNode*&gt; res;
    if (s &gt; e) {
        res.push_back(nullptr);
        return res;
    }
    for (auto i = s; i &lt;= e; ++i) {
        auto leftRes = constructBst(s, i - 1);
        auto rightRes = constructBst(i + 1, e);
        for (auto l : leftRes) {
            for (auto r : rightRes) {
                TreeNode* node = new TreeNode(i);
                node-&gt;left = l;
                node-&gt;right = r;
                res.push_back(node);
            }
        }
    }
    return res;
}

std::vector&lt;TreeNode*&gt; generateTrees(int n) {
    return constructBst(1, n);
}
</code></pre>
<p>å¯¹äºæ¯ä¸€æ¬¡é€’å½’ï¼Œéƒ½ä¼šè®¡ç®—å½“å‰é€’å½’å±‚æ¬¡æ‰€æœ‰çš„å·¦å³å­æ ‘å¯æ„å»ºçš„äºŒå‰æœç´¢æ ‘çš„æ ¹ç»“ç‚¹ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[GitåŸºç¡€(ä¸€)]]></title>
        <id>https://jsrdzhk.github.io/post/git-ji-chu-yi/</id>
        <link href="https://jsrdzhk.github.io/post/git-ji-chu-yi/">
        </link>
        <updated>2021-07-11T02:12:00.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-åŸºç¡€æ¦‚å¿µ">ä¸€ã€åŸºç¡€æ¦‚å¿µ</h2>
<h3 id="11-ä»€ä¹ˆæ˜¯git">1.1 ä»€ä¹ˆæ˜¯git</h3>
<p><code>git</code>æ˜¯ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿï¼ˆVersion control systems ï¼ŒVCSï¼‰ï¼Œç”¨äºå¯¹é¡¹ç›®çš„ç‰ˆæœ¬è¿›è¡Œè·Ÿè¸ªç®¡ç†ã€‚åœ¨gitå‡ºç°ä¹‹å‰ï¼Œæ‹¥æœ‰å¾ˆå¤šVCSï¼Œè¿™äº›VCSçš„å·¥ä½œåŸç†æ˜¯å¯¹äºé¡¹ç›®ä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜ä»–ä»¬éšæ—¶é—´ç§¯ç´¯çš„æ”¹åŠ¨ã€‚<br>
<img src="https://jsrdzhk.github.io/post-images/1625969667803.png" alt="normal vcs" loading="lazy"></p>
<p>gitä¸åŒäºå…¶ä»–ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå®ƒæ¯æ¬¡æ”¹åŠ¨éƒ½ä¼šä¿å­˜æ‰€æœ‰é¡¹ç›®æ–‡ä»¶çš„å¿«ç…§ï¼Œå¦‚æœæŸäº›æ–‡ä»¶åœ¨è¿™æ¬¡æ”¹åŠ¨ä¸­æ²¡æœ‰å˜åŒ–ï¼Œé‚£ä¹ˆgitåªä¿å­˜ä¸€ä¸ªæŒ‡å‘å‰ä¸€ç‰ˆæœ¬çš„é“¾æ¥ã€‚<br>
<img src="https://jsrdzhk.github.io/post-images/1625969745519.png" alt="git vcs" loading="lazy"></p>
<h3 id="12-gitå¦‚ä½•ä¿è¯æ£€æŸ¥åˆ°æ‰€æœ‰æ”¹åŠ¨">1.2 gitå¦‚ä½•ä¿è¯æ£€æŸ¥åˆ°æ‰€æœ‰æ”¹åŠ¨</h3>
<p>gitä¼šæ ¹æ®é¡¹ç›®ç›®å½•ç»“æ„ä»¥åŠæ–‡ä»¶å†…å®¹ï¼Œé€šè¿‡<code>SHA-1</code>ç®—æ³•è®¡ç®—ç”Ÿæˆæ ¡éªŒå’Œï¼Œæ‰€ä»¥åªè¦ä½ å¯¹é¡¹ç›®åšäº†æ”¹åŠ¨ï¼Œgitå°±èƒ½å¯Ÿè§‰ã€‚</p>
<h3 id="13-gitçš„ä¸‰ç§å·¥ä½œåŒºåŸŸ">1.3 gitçš„ä¸‰ç§å·¥ä½œåŒºåŸŸ</h3>
<p>gitçš„å·¥ä½œåŒºåŸŸåˆ†ä¸ºå·¥ä½œåŒºã€æš‚å­˜åŒºå’Œå·²æäº¤åŒºï¼Œå½“æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­æ–°å¢ã€ä¿®æ”¹æ–‡ä»¶æ—¶ï¼Œè¿™äº›æ”¹åŠ¨éƒ½åœ¨å·¥ä½œåŒºä¸­ã€‚å¦‚æœæˆ‘ä»¬ä¿®æ”¹å®Œæˆï¼Œä½¿ç”¨<code>git add</code>å‘½ä»¤ï¼Œå°±å¯ä»¥è®²è¿™äº›æ”¹åŠ¨ç”±å·¥ä½œåŒºç§»åˆ°æš‚å­˜åŒºã€‚å½“æ–‡ä»¶å¤„äºæš‚å­˜åŒºæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<code>git commit</code>å‘½ä»¤å°†æ–‡ä»¶ç”±æš‚å­˜åŒºæŒªåˆ°å·²æäº¤åŒºã€‚å½“æ–‡ä»¶å¤„äºå·²æäº¤åŒºåŸŸæ—¶ï¼Œæ‰€æœ‰çš„æ”¹åŠ¨éƒ½ä¼šè¢«æ°¸ä¹…ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ä¸­ã€‚å¦‚æœä½ å°†é¡¹ç›®æ ¹ç›®å½•çš„<code>.git</code>æ–‡ä»¶å¤¹åˆ é™¤ï¼Œå°±ä¼šæ°¸ä¹…å¤±å»æ‰€æœ‰çš„ç‰ˆæœ¬è®°å½•ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://jsrdzhk.github.io/post-images/1625969769673.png" alt="git area" loading="lazy"></figure>
<h2 id="äºŒ-gitåŸºæœ¬ä½¿ç”¨æ–¹æ³•">äºŒã€gitåŸºæœ¬ä½¿ç”¨æ–¹æ³•</h2>
<h3 id="21-gitåˆå§‹é…ç½®">2.1 gitåˆå§‹é…ç½®</h3>
<p>å½“æˆ‘ä»¬åˆæ¬¡ä½¿ç”¨gitï¼Œç”¨åˆ°çš„æœ€ç®€å•ä¸”å¿…è¦çš„é…ç½®å°±æ˜¯ä¸ºgité…ç½®ä¸€ä¸ªå…¨å±€å¯ç”¨çš„æäº¤è€…(è¿˜æ˜¯ä½œè€…ï¼Ÿæäº¤è€…å’Œä½œè€…çš„åŒºåˆ«ï¼Ÿ)çš„åå­—å’Œå…¶é‚®ç®±ï¼Œå…¶ä¸­<code>--global</code>å‚æ•°è¡¨ç¤ºæœ¬æ¬¡é…ç½®å¯¹äºæœ¬æœºæ‰€æœ‰çš„gitä»“åº“éƒ½æœ‰ç”¨ï¼Œé™¤éä½ åœ¨é¡¹ç›®çš„å±€éƒ¨é…ç½®æ–‡ä»¶é‡Œé¢è¿›è¡Œäº†åŒæ ·çš„é…ç½®ï¼Œå±€éƒ¨çš„é…ç½®ä¼šè¦†ç›–å…¨å±€çš„é…ç½®ã€‚</p>
<pre><code class="language-shell">git config --global user.name &quot;zhanghaokang&quot;
git config --global user.email &quot;zhanghaokang@antiy.cn&quot;
</code></pre>
<p>æ­¤å¤–ï¼Œè¿˜éœ€è¦é…ç½®gitå‘½ä»¤ä½¿ç”¨çš„ç¼–è¾‘å™¨ï¼Œä¸‹é¢çš„å‘½ä»¤å°±æ˜¯å°†gité»˜è®¤çš„ç¼–è¾‘å™¨æ”¹ä¸º<code>vim</code>ã€‚</p>
<pre><code class="language-shell">git config --global core.editor vim
</code></pre>
<p>å½“ä½¿ç”¨<code>git commit</code>å‘½ä»¤æ—¶ï¼Œå¦‚æœä¸ä½¿ç”¨<code>-m</code>å‚æ•°åŠ ä¸Šæäº¤ä¿¡æ¯ï¼Œå°±ä¼šæ‰“å¼€é…ç½®çš„editorè®©ä½ è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œã€‚<br>
è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„é…ç½®ï¼š</p>
<pre><code class="language-shell">git config --global core.quotepath false
</code></pre>
<p>è¯¥é…ç½®ä¼šä½¿<code>git status</code>çš„ç»“æœä¸­çš„ä¸­æ–‡æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<p>ä½¿ç”¨<code>git config --list</code>å°±å¯ä»¥å±•ç¤ºå‡ºå½“å‰çš„æ‰€æœ‰é…ç½®ã€‚</p>
<h3 id="22-åˆå§‹åŒ–ä»“åº“">2.2 åˆå§‹åŒ–ä»“åº“</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä½¿ç”¨<code>git init</code>å°±å¯ä»¥å°†é¡¹ç›®ç”Ÿæˆä¸ºgité¡¹ç›®ï¼Œè¯¥æ“ä½œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ª<code>.git</code>ç›®å½•ï¼Œä»–å°±ç”¨äºè®°å½•ç‰ˆæœ¬çš„å˜åŒ–ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­è¿›è¡Œé¡¹ç›®ç‰¹æœ‰çš„é…ç½®ï¼Œä¾‹å¦‚ä¿®æ”¹è¯¥ä»“åº“ç‰¹æœ‰çš„æäº¤è€…å§“åå’Œé‚®ç®±ã€‚</p>
<h3 id="23-å°†ä¿®æ”¹æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­">2.3 å°†ä¿®æ”¹æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­</h3>
<p>å½“é¡¹ç›®è¢«åˆå§‹åŒ–ä¸ºgitä»“åº“åï¼Œåªè¦ä½ åœ¨å½“å‰ç›®å½•ä¸­æ–°å¢æ–‡ä»¶æ—¶ï¼Œgitå°±ä¼šå°†è¯¥æ–‡ä»¶åˆ—ä¸ºæœªè¢«è·Ÿè¸ªçŠ¶æ€ã€‚ä½¿ç”¨<code>git status</code>å¯ä»¥çœ‹åˆ°å½“å‰ä»“åº“æ‰€æœ‰æ–‡ä»¶çš„çŠ¶æ€ã€‚</p>
<pre><code class="language-shell">On branch master
Your branch is up to date with 'origin/master'.

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
	2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/1.åŸºç¡€/
	2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/git_reset_commit.md
	images/tools_deploy/dev/
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰æœ‰ä¸€äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤„äº<code>Untracked files</code>ä¸­ï¼Œè¿™äº›æ–‡ä»¶å¤„äºæœªè·Ÿè¸ªçŠ¶æ€ï¼Œå¯¹å…¶è¿›è¡Œä¿®æ”¹gitä¹Ÿä¸èƒ½çŸ¥é“æ”¹åŠ¨çš„å†…å®¹ã€‚æ­¤æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨<code>git add</code>å‘½ä»¤ï¼Œå°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ã€‚</p>
<pre><code class="language-shell">git add 2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/1.åŸºç¡€/git_fundamental.md
</code></pre>
<p>åœ¨ä¸Šé¢çš„å‘½ä»¤ç»“æŸåï¼Œå†æ¬¡è¿è¡Œ<code>git status</code>æ¥æŸ¥çœ‹å½“å‰å·¥ä½œåŒºçš„çŠ¶æ€ã€‚</p>
<pre><code class="language-shell">On branch master
Your branch is up to date with 'origin/master'.

Changes to be committed:
  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)
	new file:   2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/1.åŸºç¡€/git_fundamental.md

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
	2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/git_reset_commit.md
	images/tools_deploy/dev/
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåˆšåˆšæ·»åŠ åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶æ˜¾ç¤ºåœ¨<code>Changes to be committed</code>ä¸­ï¼Œ<code>git</code>è¿˜æç¤ºæˆ‘ä»¬ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°†è¯¥æ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤ï¼Œå¯ä»¥ä½¿ç”¨<code>git restore --staged &lt;file_name&gt;</code>å‘½ä»¤ã€‚</p>
<p>å½“æˆ‘ä»¬å†æ¬¡å¯¹è¯¥æ–‡ä»¶è¿›è¡Œä¿®æ”¹åï¼Œå†æ¬¡ä½¿ç”¨<code>git status</code>æŸ¥çœ‹çŠ¶æ€ã€‚</p>
<pre><code class="language-shell">On branch master
Your branch is up to date with 'origin/master'.

Changes to be committed:
  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)
	new file:   2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/1.åŸºç¡€/git_fundamental.md

Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
	modified:   2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/1.åŸºç¡€/git_fundamental.md

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
	2.ç¯å¢ƒç¯‡/å·¥å…·éƒ¨ç½²å’Œä½¿ç”¨/å¼€å‘å·¥å…·/git/git_reset_commit.md
	images/tools_deploy/dev/
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨åˆå¤šå‡ºäº†ä¸€åˆ—<code>Changes not staged for commit</code>ï¼Œè¿™ä¸€åˆ—çš„æ–‡ä»¶ä¸­è¡¨ç¤ºè¯¥æ–‡ä»¶å·²ç»è¢«gitæ‰€è·Ÿè¸ªä½†æ˜¯è¿˜æœ‰ä¿®æ”¹æ²¡ç”¨æ·»åŠ åˆ°æš‚å­˜åŒºã€‚å†æ¬¡ä½¿ç”¨<code>git add</code>å°†ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºã€‚</p>
<p>å½“æ‰€æœ‰çš„ä¿®æ”¹éƒ½æ·»åŠ åˆ°æš‚å­˜åŒºåï¼Œå°±å¯ä»¥ä½¿ç”¨<code>git commit</code>å‘½ä»¤å°†è¿™äº›ä¿®æ”¹æŒªåˆ°å·²æäº¤åŒºã€‚</p>
<pre><code class="language-shell">git commit -m &quot;Develop | add git_fundamental.md&quot;
</code></pre>
<p>å…¶ä¸­<code>-m</code>è¡¨ç¤ºæ·»åŠ æäº¤ä¿¡æ¯ï¼Œå¦‚æœä¸åŠ è¯¥å‚æ•°ï¼Œgitä¼šæ‰“å¼€ä½ é…ç½®çš„é»˜è®¤ç¼–è¾‘å™¨ï¼Œç„¶åä½ åœ¨é‚£é‡Œä¿®æ”¹æäº¤ä¿¡æ¯ã€‚</p>
<p>å½“è¯¥æ“ä½œå®Œæˆåï¼Œæ‰€æœ‰å˜åŠ¨å°±ä¼šè¢«æ·»åŠ åˆ°æœ¬åœ°gitä»“åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>git log</code>æ¥æŸ¥çœ‹æ‰€æœ‰æäº¤è®°å½•ã€‚</p>
<pre><code>commit 552ec14f9ccdce80ae8c686820add3df7c800f9e (HEAD -&gt; master, origin/master, origin/HEAD)Author: zhaosq &lt;zhaosq0815@163.com&gt;Date:   Mon Nov 23 10:28:21 2020 +0800    Maintain | update test_tech on Nov 2020    Signed-off-by: zhaosq &lt;zhaosq0815@163.com&gt;commit f99fec9901064a78c7290e6bbd95de9660b17225Author: hangxu &lt;hangxu@antiy.cn&gt;Date:   Mon Nov 23 10:04:18 2020 +0800    Bug | fix style error
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºé¡¹ç›®çš„æ‰€æœ‰æäº¤å†å²ï¼Œ<code>commit</code>åé¢è·Ÿçš„æ˜¯<code>commit id</code>ï¼Œç”¨äºæ ‡è®°å½“å‰ç‰ˆæœ¬ï¼ˆSHA-1ç”Ÿæˆçš„æ ¡éªŒå’Œï¼‰ã€‚å¦‚æœä½ åæ‚”äº†ï¼Œå¯ä»¥ä½¿ç”¨<code>git reset</code>å‘½ä»¤å°†æœ¬åœ°çš„å†…å®¹è¿”å›åˆ°å¯¹åº”<code>commit id</code>çš„ç‰ˆæœ¬ã€‚</p>
<pre><code class="language-shell">git reset --hard f99fec9901064a78c7290e6bbd95de9660b17225
</code></pre>
<p>åœ¨<code>--hard</code>è¡¨ç¤ºå°†æ‰€æœ‰å†…å®¹è¿”å›åˆ°<code>f99fec9901064a78c7290e6bbd95de9660b17225</code>ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨<code>--soft</code>ï¼Œé‚£ä¹ˆ<code>f99fec9901064a78c7290e6bbd95de9660b17225</code>ç‰ˆæœ¬åˆ°å½“å‰ç‰ˆæœ¬çš„æ‰€æœ‰æ”¹åŠ¨å°†ä¼šä¿ç•™åœ¨æš‚å­˜åŒºã€‚</p>
<p>ä¸Šè¿°å°±æ˜¯gitçš„åŸºæœ¬å·¥ä½œæµç¨‹ï¼Œä¸‹å›¾ä¹Ÿå¾ˆå¥½çš„æ¦‚æ‹¬äº†è¿™äº›å¸¸ç”¨æ“ä½œã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://jsrdzhk.github.io/post-images/1625969819544.png" alt="git work flow" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Dockeré•œåƒå¯¼å…¥å¯¼å‡º]]></title>
        <id>https://jsrdzhk.github.io/post/docker-image-import-and-export/</id>
        <link href="https://jsrdzhk.github.io/post/docker-image-import-and-export/">
        </link>
        <updated>2021-07-11T02:06:44.000Z</updated>
        <content type="html"><![CDATA[<p>åœ¨ç¼ºä¹ç½‘ç»œçš„ç¯å¢ƒä¸­ï¼Œå¯ä»¥å°†<code>Docker</code>é•œåƒå¯¼å‡ºï¼Œè¿›è¡Œç¦»çº¿éƒ¨ç½²ã€‚</p>
<h2 id="ä¸€-save-load">ä¸€ã€save &amp;&amp; load</h2>
<p><code>docker save</code>å‘½ä»¤å¯ä»¥å°†å¤šä¸ªé•œåƒå¯¼å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œç”¨æ³•å¦‚ä¸‹:</p>
<pre><code class="language-sh">&gt;docker save --help

Usage:  docker save [OPTIONS] IMAGE [IMAGE...]

Save one or more images to a tar archive (streamed to STDOUT by default)

Options:
      --help            Print usage
  -o, --output string   Write to a file, instead of STDOUT
</code></pre>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-sh">docker save -o wq_ci.tar postgres:10 jenkins/jenkins:lts sonarqube:lts
</code></pre>
<p>åœ¨å¯¼å‡ºå®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨<code>docker load -i &lt;saved_image.tar&gt;</code>æ¥åŠ è½½å¯¼å‡ºçš„<code>image</code>ã€‚</p>
<h2 id="äºŒ-export-import">äºŒã€export &amp;&amp; import</h2>
<p><code>docker export</code>å¯ä»¥å°†<code>container</code>å¯¼å‡ºï¼Œç”¨æ³•å¦‚ä¸‹:</p>
<pre><code class="language-sh">&gt;docker export --help

Usage:  docker export [OPTIONS] CONTAINER

Export a container's filesystem as a tar archive

Options:
      --help            Print usage
  -o, --output string   Write to a file, instead of STDOUT
</code></pre>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-sh">docker export -o postgres-export.tar postgres
</code></pre>
<p>ä½¿ç”¨<code>docker import</code>å¯ä»¥ä»å¯¼å‡ºæ–‡ä»¶ç”Ÿæˆ<code>image</code>ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="language-sh">docker import postgres-export.tar postgres:latest
</code></pre>
<h2 id="ä¸‰-saveå’ŒexportåŒºåˆ«">ä¸‰ã€saveå’ŒexportåŒºåˆ«</h2>
<ol>
<li><code>docker save</code>ä¿å­˜çš„æ˜¯<code>image</code>ï¼Œ<code>docker export</code>ä¿å­˜çš„æ˜¯<code>container</code>ï¼›</li>
<li><code>docker load</code>ç”¨æ¥è½½å…¥<code>image</code>ï¼Œ<code>docker import</code>ç”¨æ¥è½½å…¥<code>container</code>åŒ…ï¼Œä½†ä¸¤è€…éƒ½ä¼šæ¢å¤ä¸º<code>image</code>ï¼›</li>
<li><code>docker load</code>ä¸èƒ½å¯¹è½½å…¥çš„<code>image</code>é‡å‘½åï¼Œè€Œdocker importå¯ä»¥ä¸º<code>image</code>æŒ‡å®šæ–°åç§°ã€‚</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Dockerå®‰è£…]]></title>
        <id>https://jsrdzhk.github.io/post/docker-installation/</id>
        <link href="https://jsrdzhk.github.io/post/docker-installation/">
        </link>
        <updated>2021-07-11T02:05:24.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-mac-oså’Œwindows">ä¸€ã€Mac OSå’ŒWindows</h2>
<p><code>Mac OS</code>å¯ä»¥ç›´æ¥å»dockerå®˜æ–¹ç½‘ç«™ä¸‹è½½<code>Docker Desktop</code>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>Homebrew</code>å®‰è£…:<code>brew cask install docker</code>ã€‚<code>Windows</code>ç›´æ¥å®˜æ–¹ç½‘ç«™ä¸‹è½½<code>Docker Desktop</code>å³å¯ã€‚</p>
<h2 id="äºŒ-linux">äºŒã€Linux</h2>
<ol>
<li>
<p>æ›´æ–°ubuntuçš„aptæºç´¢å¼•ï¼šsudo apt-get update</p>
</li>
<li>
<p>å®‰è£…åŒ…å…è®¸apté€šè¿‡HTTPSä½¿ç”¨ä»“åº“ï¼š</p>
<pre><code class="language-shell">sudo apt-get install \
apt-transport-https \
ca-certificates \
curl \
software-properties-common
</code></pre>
</li>
<li>
<p>æ·»åŠ Dockerå®˜æ–¹GPG Keyï¼š</p>
<pre><code class="language-shell">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</code></pre>
</li>
<li>
<p>è®¾ç½®Dockerç¨³å®šç‰ˆä»“åº“ï¼š</p>
<pre><code class="language-shell">sudo add-apt-repository \
&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
$(lsb_release -cs) \
stable&quot;
</code></pre>
</li>
<li>
<p>æ·»åŠ ä»“åº“åï¼Œæ›´æ–°aptæºç´¢å¼•ï¼š</p>
<pre><code class="language-shell">sudo apt-get update
</code></pre>
</li>
<li>
<p>å®‰è£…æœ€æ–°ç‰ˆDocker CE(ç¤¾åŒºç‰ˆ)ï¼š</p>
<pre><code class="language-shell">sudo apt-get install docker-ce
</code></pre>
</li>
<li>
<p>æ£€æµ‹Docker CE æ˜¯å¦å®‰è£…æ­£ç¡®ï¼š</p>
<pre><code class="language-shell">sudo docker run hellp-world
</code></pre>
</li>
</ol>
<h2 id="ä¸‰-é…ç½®æ— éœ€sudoè¿è¡Œ">ä¸‰ã€é…ç½®æ— éœ€sudoè¿è¡Œ</h2>
<p>åœ¨<code>Linux</code>ä¸­å®‰è£…ç©<code>Docker</code>åï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š</p>
<ol>
<li>åˆ›å»º<code>Docker</code> group:<code>sudo groupadd docker</code>;</li>
<li>æ·»åŠ å½“å‰ç”¨æˆ·è¿›å…¥ç”¨æˆ·ç»„:<code>sudo usermod -aG docker ${USER}</code>;</li>
<li>è®©ä¿®æ”¹ç”Ÿæ•ˆ:<code>su -s ${USER}</code>,æˆ–è€…ç›´æ¥ç™»å…¥ç™»å‡ºã€‚</li>
</ol>
<h2 id="å››-é…ç½®å›½å†…é•œåƒæº">å››ã€é…ç½®å›½å†…é•œåƒæº</h2>
<h3 id="41-mac-os">4.1 Mac OS</h3>
<p>å¯¹äºä½¿ç”¨ macOS çš„ç”¨æˆ·ï¼Œåœ¨ä»»åŠ¡æ ç‚¹å‡» Docker Desktop åº”ç”¨å›¾æ ‡ -&gt; Perferencesï¼Œåœ¨å·¦ä¾§å¯¼èˆªèœå•é€‰æ‹© Docker Engineï¼Œåœ¨å³ä¾§åƒä¸‹è¾¹ä¸€æ ·ç¼–è¾‘ json æ–‡ä»¶ã€‚ä¿®æ”¹å®Œæˆä¹‹åï¼Œç‚¹å‡» Apply &amp; Restart æŒ‰é’®ï¼ŒDocker å°±ä¼šé‡å¯å¹¶åº”ç”¨é…ç½®çš„é•œåƒåœ°å€äº†ã€‚</p>
<pre><code class="language-json">{
  &quot;registry-mirrors&quot;: [
    &quot;https://hub-mirror.c.163.com&quot;
  ]
}
</code></pre>
<h3 id="42-linux">4.2 Linux</h3>
<h4 id="421-systemdubuntu-1604-debian-8-centos-7">4.2.1 systemd(Ubuntu 16.04+ã€Debian 8+ã€CentOS 7)</h4>
<p>åœ¨ /etc/docker/daemon.json ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨è¯·æ–°å»ºè¯¥æ–‡ä»¶ï¼‰:</p>
<pre><code class="language-json">{
  &quot;registry-mirrors&quot;: [
    &quot;https://hub-mirror.c.163.com&quot;
  ]
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[äºŒå‰æ ‘]]></title>
        <id>https://jsrdzhk.github.io/post/er-cha-shu/</id>
        <link href="https://jsrdzhk.github.io/post/er-cha-shu/">
        </link>
        <updated>2021-07-10T01:28:54.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-å®šä¹‰">ä¸€ã€å®šä¹‰</h2>
<pre><code class="language-c++">struct TreeNode {
     int val;
     TreeNode *left;
     TreeNode *right;
     TreeNode() : val(0), left(nullptr), right(nullptr) {}
     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
};
</code></pre>
<h2 id="äºŒ-äºŒå‰æ ‘çš„éå†">äºŒã€äºŒå‰æ ‘çš„éå†</h2>
<h3 id="21-å‰åºéå†">2.1 å‰åºéå†</h3>
<p>å‰åºéå†ï¼ˆ<strong>Pre-Order Traversal</strong>ï¼‰çš„è®¿é—®é¡ºåºä¸ºï¼š</p>
<pre><code>æ ¹èŠ‚ç‚¹-&gt;å·¦å­æ ‘-&gt;å³å­æ ‘
</code></pre>
<h4 id="211-é€’å½’å†™æ³•">2.1.1 é€’å½’å†™æ³•</h4>
<pre><code class="language-c++">void recursivePreorderTraverseImpl(TreeNode *node, std::vector&lt;int&gt; &amp;res) {
    if (!node) {
        return;
    }
    res.push_back(node-&gt;val);
    recursivePreorderTraverseImpl(node-&gt;left, res);
    recursivePreorderTraverseImpl(node-&gt;right, res);
}

std::vector&lt;int&gt; recursivePreorderTraverse(TreeNode *root) {
    std::vector&lt;int&gt; res;
    recursivePreorderTraverseImpl(root, res);
    return res;
}
</code></pre>
<h4 id="212-è¿­ä»£å†™æ³•">2.1.2 è¿­ä»£å†™æ³•</h4>
<pre><code class="language-c++">std::vector&lt;int&gt; iterationPreorderTraverse(TreeNode *root) {
    std::vector&lt;int&gt; res;
    if (!root) {
        return res;
    }
    std::stack&lt;TreeNode *&gt; nodeStack;
    nodeStack.push(root);
    while (!nodeStack.empty()) {
        TreeNode *node = nodeStack.top();
        res.push_back(node-&gt;val);
        nodeStack.pop();
        if (node-&gt;right) {
            nodeStack.push(node-&gt;right);
        }
        if (node-&gt;left) {
            nodeStack.push(node-&gt;left);
        }
    }
    return res;
}
</code></pre>
<p>å½“ä½¿ç”¨è¿­ä»£éå†äºŒå‰æ ‘æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>é¦–å…ˆå°†æ ¹èŠ‚ç‚¹<code>push</code>æ ˆä¸­</li>
<li>è¯»å–æ ˆé¡¶çš„å€¼ï¼Œå¹¶å°†å³å­èŠ‚ç‚¹å’Œå·¦å­èŠ‚ç‚¹<code>push</code>åˆ°æ ˆä¸­ï¼Œå› ä¸ºæ ˆæ˜¯å…ˆå…¥åå‡ºï¼Œæ‰€ä»¥éœ€è¦æœ€åå°†å·¦å­èŠ‚ç‚¹<code>push</code>è¿›å»</li>
<li>é‡å¤1ã€2æ­¥è¯»å–æ ˆé¡¶èŠ‚ç‚¹</li>
</ol>
<h3 id="22-ä¸­åºéå†">2.2 ä¸­åºéå†</h3>
<p>ä¸­åºéå†ï¼ˆ<strong>In-Order Traversal</strong>ï¼‰çš„è®¿é—®é¡ºåºä¸ºï¼š</p>
<pre><code>å·¦å­æ ‘-&gt;æ ¹èŠ‚ç‚¹-&gt;å³å­æ ‘
</code></pre>
<h4 id="221-é€’å½’å†™æ³•">2.2.1 é€’å½’å†™æ³•</h4>
<pre><code class="language-c++">void recursiveInorderTraverseImpl(TreeNode *node, std::vector&lt;int&gt; &amp;res) {
    if (!node) {
        return;
    }
    recursiveInorderTraverseImpl(node-&gt;left, res);
    res.push_back(node-&gt;val);
    recursiveInorderTraverseImpl(node-&gt;right, res);
}

std::vector&lt;int&gt; recursiveInorderTraverse(TreeNode *root) {
    std::vector&lt;int&gt; res;
    recursiveInorderTraverseImpl(root, res);
    return res;
}
</code></pre>
<h4 id="222-è¿­ä»£å†™æ³•">2.2.2 è¿­ä»£å†™æ³•</h4>
<pre><code class="language-c++">std::vector&lt;int&gt; iterationInorderTraverse(TreeNode *root) {
    std::vector&lt;int&gt; res;
    std::stack&lt;TreeNode *&gt; nodeStack;
    while (root || !nodeStack.empty()) {
        while (root) {
            nodeStack.push(root);
            root = root-&gt;left;
        }
        root = nodeStack.top();
        nodeStack.pop();
        res.push_back(root-&gt;val);
        root = root-&gt;right;
    }
    return res;
}
</code></pre>
<p>è¿™é‡Œçš„æ€è·¯å°±æ˜¯æ¨¡æ‹Ÿé€’å½’çš„éå†è¿‡ç¨‹ï¼Œå…³é”®åœ¨äºä½¿ç”¨<code>std::stack</code>æ¥æ¨¡æ‹Ÿå‡½æ•°è°ƒç”¨æ ˆï¼š</p>
<ol>
<li>å°†æ ¹èŠ‚ç‚¹åŠå…¶å·¦å­èŠ‚ç‚¹éƒ½<code>push</code>åˆ°æ ˆä¸­</li>
<li>å½“å·¦å³æ ¹èŠ‚ç‚¹åŠå…¶å·¦å­èŠ‚ç‚¹éƒ½è¿›å…¥æ ˆä¸­åï¼Œå°†æ ˆé¡¶çš„èŠ‚ç‚¹å¼¹å‡ºï¼Œç”±äºè¯¥èŠ‚ç‚¹å·²ç»æ²¡æœ‰å·¦å­æ ‘ï¼Œæ‰€ä»¥é¦–å…ˆå°†å®ƒçš„å€¼æ”¾åˆ°ç»“æœé›†ä¸­ï¼Œç„¶åå°†æ ¹èŠ‚ç‚¹è®¾ä¸ºè¯¥èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹</li>
<li>é‡å¤1ã€2æ­¥ç›´è‡³æ ˆç©ºã€‚</li>
</ol>
<h3 id="23-ååºéå†">2.3 ååºéå†</h3>
<p>ä¸­åºéå†ï¼ˆ<strong>Post-Order Traversal</strong>ï¼‰çš„è®¿é—®é¡ºåºä¸ºï¼š</p>
<pre><code>å·¦å­æ ‘-&gt;å³å­æ ‘-&gt;æ ¹èŠ‚ç‚¹
</code></pre>
<h4 id="231-é€’å½’å†™æ³•">2.3.1 é€’å½’å†™æ³•</h4>
<pre><code class="language-c++">void recursivePostorderTraverseImpl(TreeNode *node, std::vector&lt;int&gt; &amp;res) {
    if (!node) {
        return;
    }
    recursivePostorderTraverseImpl(node-&gt;left, res);
    recursivePostorderTraverseImpl(node-&gt;right, res);
    res.push_back(node-&gt;val);
}

std::vector&lt;int&gt; recursivePostorderTraverse(TreeNode *root) {
    std::vector&lt;int&gt; res;
    recursivePostorderTraverseImpl(root, res);
    return res;
}
</code></pre>
<h4 id="232-è¿­ä»£å†™æ³•">2.3.2 è¿­ä»£å†™æ³•</h4>
<pre><code class="language-c++">std::vector&lt;int&gt; iterationPostorderTraverse(TreeNode *root) {
    std::vector&lt;int&gt; res;
    if (!root) {
        return res;
    }
    std::stack&lt;TreeNode *&gt; nodeStack;
    nodeStack.push(root);
    while (!nodeStack.empty()) {
        TreeNode *node = nodeStack.top();
        nodeStack.pop();
        res.push_back(node-&gt;val);
        if (node-&gt;left) {
            nodeStack.push(node-&gt;left);
        }
        if (node-&gt;right) {
            nodeStack.push(node-&gt;right);
        }
    }
    std::reverse(res.begin(), res.end());
    return res;
}
</code></pre>
<p>ç±»ä¼¼äºå‰åºéå†çš„è¿­ä»£å†™æ³•ï¼Œå½“æˆ‘ä»¬è°ƒæ¢pushåˆ°æ ˆä¸­çš„å·¦å³å­æ ‘é¡ºåºï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯ï¼š</p>
<pre><code>[æ ¹èŠ‚ç‚¹] [å³å­æ ‘] [å·¦å­æ ‘]
</code></pre>
<p>å°†ç»“æœå€’åºï¼Œå°±æˆä¸ºäº†ï¼š</p>
<pre><code>[å·¦å­æ ‘] [å³å­æ ‘] [æ ¹èŠ‚ç‚¹]
</code></pre>
<h3 id="24-å±‚åºéå†">2.4 å±‚åºéå†</h3>
<p>å±‚åºéå†æŒ‰ç…§æ ‘çš„å±‚æ¬¡ä¾æ¬¡éå†æ ‘çš„èŠ‚ç‚¹ã€‚</p>
<h4 id="241-åˆ©ç”¨é˜Ÿåˆ—">2.4.1 åˆ©ç”¨é˜Ÿåˆ—</h4>
<pre><code class="language-c++">std::vector&lt;int&gt; levelorderTraverse(TreeNode *root) {
    std::vector&lt;int&gt; res;
    if (!root) {
        return res;
    }
    std::queue&lt;TreeNode *&gt; q;
    q.push(root);
    while (!q.empty()) {
        TreeNode *node = q.front();
        res.push_back(node-&gt;val);
        if (node-&gt;left) {
            q.push(node-&gt;left);
        }
        if (node-&gt;right) {
            q.push(node-&gt;right);
        }
        q.pop();
    }
    return res;
}
</code></pre>
<p>è¿™é‡Œå€ŸåŠ©é˜Ÿåˆ—å®Œæˆå±‚åºéå†ï¼š</p>
<ol>
<li>å°†æ ¹èŠ‚ç‚¹<code>push</code>åˆ°é˜Ÿåˆ—ä¸­</li>
<li>è¯»å–é˜Ÿåˆ—å¤´éƒ¨çš„èŠ‚ç‚¹å†…å®¹ï¼Œç„¶åå°†è¯¥èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹<code>push</code>åˆ°é˜Ÿåˆ—ä¸­</li>
<li>å°†é˜Ÿåˆ—å¤´éƒ¨èŠ‚ç‚¹å¼¹å‡ºé˜Ÿåˆ—</li>
<li>é‡å¤2ã€3æ­¥ç›´è‡³é˜Ÿåˆ—ä¸ºç©º</li>
</ol>
<h4 id="242-å°†ç»“æœæŒ‰å±‚è¾“å‡º">2.4.2 å°†ç»“æœæŒ‰å±‚è¾“å‡º</h4>
<p>ä¸Šä¸€èŠ‚å°†æ‰€æœ‰ç»“æœéƒ½æ”¾åˆ°ä¸€ä¸ªåŠ¨æ€æ•°ç»„ä¸­ï¼Œå¦‚æœéœ€è¦å°†ç»“æœåˆ†å±‚æ”¾å…¥åˆ°ä¸åŒçš„åŠ¨æ€æ•°ç»„ä¸­ï¼Œåˆ™éœ€è¦ç¨å¾®æ”¹åŠ¨ä¸€ç‚¹ä»£ç ã€‚å®é™…ä¸Šï¼Œåˆšåˆšæ¯æ¬¡è¯»å–å¤´éƒ¨èŠ‚ç‚¹å¹¶å°†å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹<code>push</code>åˆ°é˜Ÿåˆ—ä¸­çš„æ“ä½œï¼Œå°±æ˜¯å°†ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹æ”¾åˆ°é˜Ÿåˆ—æœ«å°¾ï¼Œç­‰å¾…è¯¥å±‚æ‰€æœ‰èŠ‚ç‚¹éå†å®Œæ¯•ï¼Œæ‰å›å»éå†ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™é‡Œä½¿ç”¨ä¸€ä¸ªè¾…åŠ©çš„é˜Ÿåˆ—ï¼Œç”¨äºå­˜æ”¾ä¸‹ä¸€å±‚çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚å½“è¯¥å±‚èŠ‚ç‚¹éƒ½éå†å®Œæˆåï¼Œåœ¨éå†è¾…åŠ©é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€å±‚èŠ‚ç‚¹ã€‚</p>
<pre><code class="language-c++">std::vector&lt;std::vector&lt;int&gt;&gt; levelorderTraverse2(TreeNode *root) {
    std::vector&lt;std::vector&lt;int&gt;&gt; res;
    if (!root) {
        return res;
    }
    std::queue&lt;TreeNode *&gt; q;
    q.push(root);
    while (!q.empty()) {
        std::queue&lt;TreeNode *&gt; tmp;
        std::vector&lt;int&gt; line;
        while (!q.empty()) {
            TreeNode *node = q.front();
            q.pop();
            line.push_back(node-&gt;val);
            if (node-&gt;left) {
                tmp.push(node-&gt;left);
            }
            if (node-&gt;right) {
                tmp.push(node-&gt;right);
            }
        }
        res.push_back(line);
        q = tmp;
    }
    return res;
}
</code></pre>
<p>å…¶å®ï¼Œä¸å€ŸåŠ©è¾…åŠ©é˜Ÿåˆ—ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæ¯æ¬¡<code>push</code>éƒ½ä¼šå°†æ‰€æœ‰ä¸‹ä¸€å±‚çš„å­èŠ‚ç‚¹éƒ½æ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œåªéœ€è¦åœ¨éå†è¿™äº›èŠ‚ç‚¹å‰è®°å½•ä¸‹ä¸€å±‚å­èŠ‚ç‚¹çš„æ•°é‡å³å¯ï¼š</p>
<pre><code class="language-c++">std::vector&lt;std::vector&lt;int&gt;&gt; levelOrder(TreeNode* root) {
    std::vector&lt;std::vector&lt;int&gt;&gt; res;
    std::queue&lt;TreeNode*&gt; q;
    q.push(root);
    while (!q.empty()) {
        auto len = q.size();
        std::vector&lt;int&gt; line;
        for (auto i = 0; i &lt; len; ++i) {
            TreeNode* n = q.front();
            q.pop();
            if (!n) {
                continue;
            }
            line.push_back(n-&gt;val);
            if (n-&gt;left) {
                q.push(n-&gt;left);
            }
            if (n-&gt;right) {
                q.push(n-&gt;right);
            }
        }
        if (!line.empty()) {
            res.push_back(line);
        }
    }
    return res;
}
</code></pre>
<h2 id="ä¸‰-nå‰æ ‘çš„éå†">ä¸‰ã€nå‰æ ‘çš„éå†</h2>
<p>nå‰æ ‘çš„å®šä¹‰ç±»ä¼¼äºäºŒå‰æ ‘ï¼Œnå‰æ ‘æ‹¥æœ‰ä¸å®šæ•°é‡çš„å­èŠ‚ç‚¹ï¼Œå®ƒçš„éå†ç›¸è¾ƒäºäºŒå‰æ ‘ï¼Œæ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä¸‹é¢ä»…ç»™å‡ºä»£ç ã€‚</p>
<pre><code class="language-c++">class Node {
   public:
    int val;
    std::vector&lt;Node *&gt; children;
    Node() {}
    Node(int _val) { val = _val; }
    Node(int _val, std::vector&lt;Node *&gt; _children) {
        val = _val;
        children = _children;
    }
};
</code></pre>
<h3 id="31-å‰åºéå†">3.1 å‰åºéå†</h3>
<p><a href="https://leetcode-cn.com/problems/n-ary-tree-preorder-traversal/">589. N å‰æ ‘çš„å‰åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<h4 id="311-é€’å½’å†™æ³•">3.1.1 é€’å½’å†™æ³•</h4>
<pre><code class="language-c++">void recursiveNArrPreorderTraverseImpl(Node *node, std::vector&lt;int&gt; &amp;res) {
    if (!node) {
        return;
    }
    res.push_back(node-&gt;val);
    for (auto c : node-&gt;children) {
        recursiveNArrPreorderTraverseImpl(c, res);
    }
}

std::vector&lt;int&gt; recursiveNArrPreorderTraverse(Node *root) {
    std::vector&lt;int&gt; res;
    recursiveNArrPreorderTraverseImpl(root, res);
    return res;
}
</code></pre>
<h4 id="312-è¿­ä»£å†™æ³•">3.1.2 è¿­ä»£å†™æ³•</h4>
<pre><code class="language-c++">std::vector&lt;int&gt; iterationNArrPreorderTraverse(Node *root) {
    std::vector&lt;int&gt; res;
    if (!root) {
        return res;
    }
    std::stack&lt;Node *&gt; s;
    s.push(root);
    while (!s.empty()) {
        Node *node = s.top();
        s.pop();
        res.push_back(node-&gt;val);
        auto &amp;c = node-&gt;children;
        for (auto rb = c.rbegin(); rb != c.rend(); ++rb) {
            if (*rb) {
                s.push(*rb);
            }
        }
    }
    return res;
}
</code></pre>
<h3 id="32-ååºéå†">3.2 ååºéå†</h3>
<p><a href="https://leetcode-cn.com/problems/n-ary-tree-postorder-traversal/">590. N å‰æ ‘çš„ååºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<h4 id="321-é€’å½’å†™æ³•">3.2.1 é€’å½’å†™æ³•</h4>
<pre><code class="language-c++">void recursiveNArrPostorderTraverseImpl(Node *node, std::vector&lt;int&gt; &amp;res) {
    if (!node) {
        return;
    }
    for (auto c : node-&gt;children) {
        recursiveNArrPostorderTraverseImpl(c, res);
    }
    res.push_back(node-&gt;val);
}

std::vector&lt;int&gt; recursiveNArrPostorderTraverse(Node *root) {
    std::vector&lt;int&gt; res;
    recursiveNArrPostorderTraverseImpl(root, res);
    return res;
}
</code></pre>
<h4 id="322-è¿­ä»£å†™æ³•">3.2.2 è¿­ä»£å†™æ³•</h4>
<pre><code class="language-c++">std::vector&lt;int&gt; iterationNArrPostorderTraverse(Node *root) {
    std::vector&lt;int&gt; res;
    if (!root) {
        return res;
    }
    std::stack&lt;Node *&gt; s;
    s.push(root);
    while (!s.empty()) {
        Node *node = s.top();
        s.pop();
        res.push_back(node-&gt;val);
        auto &amp;c = node-&gt;children;
        for (auto pc : c) {
            s.push(pc);
        }
    }
    std::reverse(res.begin(), res.end());
    return res;
}
</code></pre>
<h3 id="33-å±‚åºéå†">3.3 å±‚åºéå†</h3>
<p><a href="https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/">429. N å‰æ ‘çš„å±‚åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<pre><code class="language-c++">std::vector&lt;std::vector&lt;int&gt;&gt; nArrLevelorderTraverse(Node *root) {
    std::vector&lt;std::vector&lt;int&gt;&gt; res;
    if (!root) {
        return res;
    }
    std::queue&lt;Node *&gt; q;
    q.push(root);
    while (!q.empty()) {
        std::vector&lt;int&gt; line;
        std::queue&lt;Node *&gt; tmp;
        while (!q.empty()) {
            Node *n = q.front();
            q.pop();
            line.push_back(n-&gt;val);
            auto &amp;c = n-&gt;children;
            for (auto pc : c) {
                if (pc) {
                    tmp.push(pc);
                }
            }
        }
        res.push_back(line);
        q = tmp;
    }
    return res;
}
</code></pre>
<h2 id="å››-äºŒå‰æ ‘çš„åè½¬">å››ã€äºŒå‰æ ‘çš„åè½¬</h2>
<p><a href="https://leetcode-cn.com/problems/invert-binary-tree/">226. ç¿»è½¬äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<h3 id="41-é€’å½’å†™æ³•">4.1 é€’å½’å†™æ³•</h3>
<pre><code class="language-c++">void invertTreeImpl(TreeNode* node) {
    if (!node) {
        return;
    }
    std::swap(node-&gt;left, node-&gt;right);
    invertTreeImpl(node-&gt;left);
    invertTreeImpl(node-&gt;right);
}

TreeNode* invertTree(TreeNode* root) {
    if (!root) {
        return nullptr;
    }
    invertTreeImpl(root);
    return root;
}
</code></pre>
<h3 id="42-è¿­ä»£å†™æ³•">4.2 è¿­ä»£å†™æ³•</h3>
<pre><code class="language-c++">TreeNode* iterationInvertTree(TreeNode* root) {
    std::queue&lt;TreeNode*&gt; q;
    q.push(root);
    while (!q.empty()) {
        TreeNode* n = q.front();
        q.pop();
        if (!n) {
            continue;
        }
        std::swap(n-&gt;left, n-&gt;right);
        q.push(n-&gt;left);
        q.push(n-&gt;right);
    }
    return root;
}
</code></pre>
<h3 id="43-think">4.3 think</h3>
<p>åè½¬äºŒå‰æ ‘çš„ä¸»è¦æ­¥éª¤å°±æ˜¯<code>std::swap(n-&gt;left, n-&gt;right)</code>ï¼Œæ‰€ä»¥åªè¦å¯¹äºæ‰€æœ‰èŠ‚ç‚¹éƒ½æ‰§è¡Œä¸€æ¬¡<code>swap</code>æ“ä½œå°±å¯ä»¥äº†ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šï¼ŒäºŒå‰æ ‘çš„åè½¬ä¾æ—§æ˜¯äºŒå‰æ ‘çš„éå†é—®é¢˜ã€‚å¯¹äºé€’å½’å†™æ³•ï¼Œä½ å¯ä»¥å°†<code>swap</code>æ“ä½œæ”¾åœ¨é€’å½’è°ƒç”¨ç‚¹çš„ä»»ä½•åœ°æ–¹ï¼Œ<strong>ä½†æ˜¯æ³¨æ„ï¼Œå½“ä½ æ”¾åœ¨ä¸­é—´ä½¿ç”¨ä¸­åºéå†çš„æ—¶å€™ï¼Œéœ€è¦åšä¸€äº›å°çš„ä¿®æ”¹ï¼Œå› ä¸º<code>std::swap</code>ä¿®æ”¹äº†<code>TreeNode*</code>æŒ‡é’ˆçš„æŒ‡å‘ï¼Œæ‰€ä»¥ä½ éœ€è¦å°†ç¬¬äºŒä¸ª<code>node-&gt;right</code>ä¿®æ”¹ä¸º<code>node-&gt;left</code></strong>ï¼š</p>
<pre><code class="language-c++">void invertTreeInorderImpl(TreeNode* node) {
    if (!node) {
        return;
    }
    invertTreeInorderImpl(node-&gt;left);
    std::swap(node-&gt;left, node-&gt;right);
    invertTreeInorderImpl(node-&gt;left);
}
</code></pre>
<p>å¯¹äºè¿­ä»£å†™æ³•ï¼Œä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚</p>
<h2 id="äº”-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ">äº”ã€å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ</h2>
<p><a href="https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node/">116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<h3 id="51-å±‚åºéå†">5.1 å±‚åºéå†</h3>
<p>ç”±äºäºŒå‰æ ‘ä¸ºå®Œç¾äºŒå‰æ ‘ï¼Œæ‰€æœ‰çˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæ‰€ä»¥é¦–å…ˆä¼šæƒ³åˆ°ä½¿ç”¨å±‚åºéå†ï¼Œå°†æ¯å±‚çš„èŠ‚ç‚¹éƒ½å­˜å‚¨åˆ°é˜Ÿåˆ—ä¸­ï¼Œç„¶åå¤„ç†é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œä»£ç åªéœ€è¦åœ¨[2.4.2](#2.4.2  å°†ç»“æœæŒ‰å±‚è¾“å‡º)çš„åŸºç¡€ä¸Šç¨ä½œä¿®æ”¹ï¼š</p>
<pre><code class="language-c++">Node* connect(Node* root) {
    std::queue&lt;Node*&gt; q;
    q.push(root);
    while (!q.empty()) {
        auto len = q.size();
        for (auto i = 0; i &lt; len; ++i) {
            Node* n = q.front();
            q.pop();
            if (!n) {
                continue;
            }
            if (i &lt; len - 1) {
                n-&gt;next = q.front();
            }
            q.push(n-&gt;left);
            q.push(n-&gt;right);
        }
    }
    return root;
}
</code></pre>
<h3 id="52-é€’å½’å†™æ³•">5.2 é€’å½’å†™æ³•</h3>
<p>æ ¹æ®è¦æ±‚ï¼Œéœ€è¦è®²æ‰€æœ‰å±‚çº§çš„å­èŠ‚ç‚¹éƒ½æŒ‡å‘å³ä¾§èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸ä½†éœ€è¦å°†å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹è¿æ¥ï¼Œè¿˜éœ€è¦å°†å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹å’Œåä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹è¿æ¥ã€‚æ˜¾ç„¶ï¼Œä½¿ç”¨ä¸€ä¸ªèŠ‚ç‚¹æ— æ³•å®Œæˆè·¨èŠ‚ç‚¹çš„è¿æ¥ï¼Œæ‰€ä»¥éœ€è¦ä¸¤ä¸ªèŠ‚ç‚¹ï¼š</p>
<pre><code class="language-c++">void recursiveConnectImpl(Node* n1, Node* n2) {
    if (!n1 || !n2) {
        return;
    }
    n1-&gt;next = n2;
    recursiveConnectImpl(n1-&gt;left, n1-&gt;right);
    recursiveConnectImpl(n1-&gt;right, n2-&gt;left);
    recursiveConnectImpl(n2-&gt;left, n2-&gt;right);
}

Node* recursiveConnect(Node* root) {
    if (root) {
        recursiveConnectImpl(root-&gt;left, root-&gt;right);
    }
    return root;
}
</code></pre>
<h2 id="å…­-äºŒå‰æ ‘è½¬åŒ–ä¸ºé“¾è¡¨">å…­ã€äºŒå‰æ ‘è½¬åŒ–ä¸ºé“¾è¡¨</h2>
<p><a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/">114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<h3 id="61-å‰åºéå†åä¿®æ”¹">6.1 å‰åºéå†åä¿®æ”¹</h3>
<p>å¾ˆè‡ªç„¶åœ°ï¼Œä½¿ç”¨å‰åºéå†çš„æ–¹å¼å°†æ‰€æœ‰èŠ‚ç‚¹éƒ½å­˜æ”¾åœ¨åŠ¨æ€æ•°ç»„ä¸­ï¼Œå†ä¾æ¬¡ä¿®æ”¹èŠ‚ç‚¹çš„æŒ‡å‘ï¼Œå½¢æˆå•å‘é“¾è¡¨ï¼š</p>
<pre><code class="language-c++">void traverseTree(TreeNode* node, std::vector&lt;TreeNode*&gt;&amp; res) {
    if (!node) {
        return;
    }
    res.push_back(node);
    traverseTree(node-&gt;left, res);
    traverseTree(node-&gt;right, res);
}

void flatten(TreeNode* root) {
    std::vector&lt;TreeNode*&gt; res;
    traverseTree(root, res);
    if (res.empty()) {
        return;
    }
    int len = res.size();
    for (auto i = 0; i &lt; len - 1; ++i) {
        res[i]-&gt;right = res[i + 1];
        res[i]-&gt;left = nullptr;
    }
}
</code></pre>
<p>è¿™é‡Œæ³¨æ„ï¼Œåœ¨<code>C++</code>ä¸­ï¼Œå½“<code>unsigned</code>ä¸<code>signed</code>ç›¸å‡æ—¶ï¼Œç»“æœä¼šè¢«è½¬åŒ–ä¸º<code>unsigned</code>ï¼Œæ‰€ä»¥å½“<code>root</code>èŠ‚ç‚¹ä¸º<code>nullptr</code>æ—¶ï¼Œå­˜æ”¾èŠ‚ç‚¹çš„<code>vector</code>å°±æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶<code>res.size()-1</code>çš„ç»“æœä¼šç”±<code>-1</code>è½¬åŒ–ä¸º<code>unsigned</code>ï¼Œå…·ä½“ç»“æœæ ¹æ®æœºå™¨æ¶æ„çš„ä¸åŒè€Œæœ‰å·®å¼‚ã€‚åœ¨32ä½æœºå™¨ä¸Šï¼Œä¸€èˆ¬æ¥è¯´<code>signed</code>ä¼šä½¿ç”¨æœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ï¼Œæ­¤æ—¶<code>-1</code>çš„äºŒè¿›åˆ¶è¡¨ç¤ºå°±æ˜¯<code>1000 0000 0000 0000 0000 0000 0000 0001</code>ï¼Œè½¬åŒ–ä¸º<code>unsigned</code>å°±æ˜¯<code>2^31+2^0</code>ï¼Œå³<code>2147483649</code>ï¼Œæ‰€ä»¥åœ¨<code>for</code>å¾ªç¯ä¸­æ¶‰åŠåˆ°<code>vector</code>çš„<code>size()</code>è¿ç®—æ—¶ï¼Œæœ€å¥½å…ˆè®²<code>size()</code>è½¬åŒ–ä¸º<code>signed</code>æ•´æ•°ã€‚</p>
<h3 id="62-é€’å½’å†™æ³•">6.2 é€’å½’å†™æ³•</h3>
<p>é€’å½’å†™æ³•åœ¨äºå…ˆå°†æ ‘å±•å¼€ï¼Œç„¶åå°†å·¦å­æ ‘æ¥åˆ°å³å­æ ‘ä¸Šï¼Œå†å°†åŸæ¥çš„å³å­æ ‘æ¥åˆ°å·¦å­æ ‘ä¸‹æ–¹:</p>
<pre><code class="language-c++">void flatten2(TreeNode* root) {
    if (!root) {
        return;
    }
    flatten2(root-&gt;left);
    flatten2(root-&gt;right);
    TreeNode* right = root-&gt;right;
    TreeNode* left = root-&gt;left;
    root-&gt;left = nullptr;
    root-&gt;right = left;
    TreeNode* p = root;
    while (p-&gt;right) {
        p = p-&gt;right;
    }
    p-&gt;right = right;
}
</code></pre>
<h2 id="ä¸ƒ-æ„å»ºäºŒå‰æ ‘">ä¸ƒã€æ„å»ºäºŒå‰æ ‘</h2>
<h3 id="71-æœ€å¤§äºŒå‰æ ‘">7.1 æœ€å¤§äºŒå‰æ ‘</h3>
<p><a href="https://leetcode-cn.com/problems/maximum-binary-tree/">654. æœ€å¤§äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>é¦–å…ˆè¦æ˜ç¡®æ¯æ¬¡é€’å½’è¦åšçš„äº‹æƒ…ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p>
<ol>
<li>æ±‚å¾—æ•°ç»„çš„æœ€å¤§å€¼</li>
<li>å°†æœ€å¤§å€¼æ„å»ºä¸ºä¸€ä¸ªæ ‘èŠ‚ç‚¹å¹¶è¿æ¥åˆ°çˆ¶èŠ‚ç‚¹ä¸Š</li>
<li>åˆ†åˆ«å¯¹æœ€å¤§å€¼å·¦å³ä¸¤ä¾§çš„å­æ•°ç»„è¿›è¡Œé€’å½’è°ƒç”¨</li>
</ol>
<p><code>getMax</code>å‡½æ•°ç”¨äºæ±‚å¾—å­æ•°ç»„çš„æœ€å¤§å€¼åŠå…¶æ‰€å¤„çš„ä½ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰å–çš„é€’å½’<code>base case</code>ä¸ºå½“æœ€å¤§å€¼çš„å·¦å³ä¸¤ä¾§æ˜¯å¦è¿˜å…·æœ‰å­æ•°ç»„ï¼š</p>
<pre><code class="language-c++">std::pair&lt;int, int&gt; getMax(const std::vector&lt;int&gt;&amp; nums, int s, int e) {
    int max = 0, maxPos = 0;
    for (auto i = s; i &lt;= e; ++i) {
        if (nums[i] &gt;= max) {
            max = nums[i];
            maxPos = i;
        }
    }
    return std::make_pair(max, maxPos);
}

TreeNode* constructImpl(const std::vector&lt;int&gt;&amp; nums, int s, int e) {
    auto maxPair = getMax(nums, s, e);
    auto maxNum = maxPair.first;
    auto maxPos = maxPair.second;
    TreeNode* newNode = new TreeNode(maxNum);
    if (maxPos &gt; s) {
        newNode-&gt;left = constructImpl(nums, s, maxPos - 1);
    }
    if (maxPos &lt; e) {
        newNode-&gt;right = constructImpl(nums, maxPos + 1, e);
    }
    return newNode;
}

TreeNode* constructMaximumBinaryTree(std::vector&lt;int&gt;&amp; nums) {
    if (nums.empty()) {
        return nullptr;
    }
    return constructImpl(nums, 0, nums.size() - 1);
}
</code></pre>
<h3 id="72-ä»å‰åºéå†å’Œä¸­åºéå†ç»“æœæ„å»ºäºŒå‰æ ‘">7.2 ä»å‰åºéå†å’Œä¸­åºéå†ç»“æœæ„å»ºäºŒå‰æ ‘</h3>
<p><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>ç”±äºå‰åºéå†çš„ç»“æœä¸ºï¼š</p>
<pre><code>[æ ¹ç»“ç‚¹] [å·¦å­æ ‘] [å³å­æ ‘]
</code></pre>
<p>è€Œä¸­åºéå†çš„ç»“æœä¸ºï¼š</p>
<pre><code>[å·¦å­æ ‘] [æ ¹ç»“ç‚¹] [å³å­æ ‘]
</code></pre>
<p>åŒæ—¶åºåˆ—ä¸­æ²¡æœ‰é‡å¤æ•°å­—ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®å‰åºéå†ç»“æœå¾—åˆ°æ ¹ç»“ç‚¹çš„å€¼ï¼Œå†åˆ°ä¸­åºéå†çš„ç»“æœä¸­æ‰¾åˆ°è¯¥å€¼æ‰€åœ¨çš„ä½ç½®ï¼Œå°±å¯ä»¥æ„å»ºè¯¥èŠ‚ç‚¹åŠå…¶å·¦å³å­æ ‘ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªé€’å½’çš„æ„å»ºè¿‡ç¨‹ï¼š</p>
<pre><code class="language-c++">std::size_t getInorderRootPos(int rootNodeVal, const std::vector&lt;int&gt;&amp; inorder,
                              std::size_t inorderStart,
                              std::size_t inorderEnd) {
    for (auto i = inorderStart; i &lt;= inorderEnd; ++i) {
        if (inorder[i] == rootNodeVal) {
            return i;
        }
    }
    return 0;
}

TreeNode* constructBinaryTree(const std::vector&lt;int&gt;&amp; preorder,
                              const std::vector&lt;int&gt;&amp; inorder,
                              std::size_t preorderStart,
                              std::size_t preorderEnd, std::size_t inorderStart,
                              std::size_t inorderEnd) {
    auto rootNodeVal = preorder[preorderStart];
    TreeNode* n = new TreeNode(rootNodeVal);
    auto inorderRootPos =
        getInorderRootPos(rootNodeVal, inorder, inorderStart, inorderEnd);
    auto leftSubTreeLen = inorderRootPos - inorderStart;
    if (leftSubTreeLen &gt; 0) {
        n-&gt;left = constructBinaryTree(preorder, inorder, preorderStart + 1,
                                      preorderStart + leftSubTreeLen,
                                      inorderStart, inorderRootPos - 1);
    }
    auto rightSubTreeLen = inorderEnd - inorderRootPos;
    if (rightSubTreeLen &gt; 0) {
        n-&gt;right = constructBinaryTree(
            preorder, inorder, preorderStart + leftSubTreeLen + 1, preorderEnd,
            inorderRootPos + 1, inorderEnd);
    }
    return n;
}

TreeNode* buildTree(std::vector&lt;int&gt;&amp; preorder, std::vector&lt;int&gt;&amp; inorder) {
    if (preorder.empty()) {
        return nullptr;
    }
    return constructBinaryTree(preorder, inorder, 0, preorder.size() - 1, 0,
                               inorder.size() - 1);
}
</code></pre>
<h3 id="73-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘">7.3 ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</h3>
<p><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>ç”±äºååºéå†çš„ç»“æœä¸ºï¼š</p>
<pre><code>[å·¦å­æ ‘] [å³å­æ ‘] [æ ¹ç»“ç‚¹]
</code></pre>
<p>æ‰€ä»¥å¯ä»¥æ‰¾åˆ°è·ŸèŠ‚ç‚¹çš„å€¼ã€‚</p>
<p>åˆå› ä¸ºåºåˆ—æ²¡æœ‰é‡å¤æ•°å­—ï¼Œè€Œä¸­åºéå†çš„ç»“æœä¸ºï¼š</p>
<pre><code>[å·¦å­æ ‘] [æ ¹ç»“ç‚¹] [å³å­æ ‘]
</code></pre>
<p>æ‰€ä»¥å¯ä»¥å¾—åˆ°æ”¹æ ¹ç»“ç‚¹çš„å·¦å³å­æ ‘ï¼Œä»£ç ç±»ä¼¼<code>7.2</code>ï¼š</p>
<pre><code class="language-c++">std::size_t getInorderRootPos(int rootNodeVal, const std::vector&lt;int&gt;&amp; inorder,
                              std::size_t inorderStart,
                              std::size_t inorderEnd) {
    for (auto i = inorderStart; i &lt;= inorderEnd; ++i) {
        if (inorder[i] == rootNodeVal) {
            return i;
        }
    }
    return 0;
}

TreeNode* constructBinaryTree(const std::vector&lt;int&gt;&amp; postorer,
                              const std::vector&lt;int&gt;&amp; inorder,
                              std::size_t postorerStart,
                              std::size_t postorerEnd, std::size_t inorderStart,
                              std::size_t inorderEnd) {
    auto rootNodeVal = postorer[postorerEnd];
    TreeNode* n = new TreeNode(rootNodeVal);
    auto inorderRootPos =
        getInorderRootPos(rootNodeVal, inorder, inorderStart, inorderEnd);
    auto leftSubTreeLen = inorderRootPos - inorderStart;
    if (leftSubTreeLen &gt; 0) {
        n-&gt;left = constructBinaryTree(postorer, inorder, postorerStart,
                                      postorerStart + leftSubTreeLen - 1,
                                      inorderStart, inorderRootPos - 1);
    }
    auto rightSubTreeLen = inorderEnd - inorderRootPos;
    if (rightSubTreeLen &gt; 0) {
        n-&gt;right = constructBinaryTree(
            postorer, inorder, postorerStart + leftSubTreeLen, postorerEnd - 1,
            inorderRootPos + 1, inorderEnd);
    }
    return n;
}

TreeNode* buildTree(std::vector&lt;int&gt;&amp; inorder, std::vector&lt;int&gt;&amp; postorder) {
    if (postorder.empty()) {
        return nullptr;
    }
    return constructBinaryTree(postorder, inorder, 0, postorder.size() - 1, 0,
                               inorder.size() - 1);
}
</code></pre>
<h2 id="å…«-å¯»æ‰¾é‡å¤å­æ ‘">å…«ã€å¯»æ‰¾é‡å¤å­æ ‘</h2>
<p><a href="https://leetcode-cn.com/problems/find-duplicate-subtrees/">652. å¯»æ‰¾é‡å¤çš„å­æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p>
<p>ä½¿ç”¨å‰åºéå†ï¼Œå°†æ‰€æœ‰å­æ ‘çš„å‰åºéå†ç»“æœä¿å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œå½“å‰åºéå†ç»“æœç­‰äº2æ—¶ï¼Œè¯´æ˜æ­¤å­æ ‘é‡å¤ã€‚</p>
<pre><code class="language-c++">std::string getSubTreeSeq(TreeNode* n,
                          std::unordered_map&lt;std::string, int&gt;&amp; counter,
                          std::vector&lt;TreeNode*&gt;&amp; res) {
    if (!n) {
        return &quot;$&quot;;
    }
    std::ostringstream oss;
    oss &lt;&lt; n-&gt;val &lt;&lt; ',' &lt;&lt; getSubTreeSeq(n-&gt;left, counter, res) &lt;&lt; ','
        &lt;&lt; getSubTreeSeq(n-&gt;right, counter, res);
    std::string seq = oss.str();
    ++counter[seq];
    if (counter[seq] == 2) {
        res.push_back(n);
    }
    return seq;
}

std::vector&lt;TreeNode*&gt; findDuplicateSubtrees2(TreeNode* root) {
    std::unordered_map&lt;std::string, int&gt; counter;
    std::vector&lt;TreeNode*&gt; res;
    getSubTreeSeq(root, counter, res);
    return res;
}
</code></pre>
]]></content>
    </entry>
</feed>